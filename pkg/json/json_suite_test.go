package json_test

import (
	"reflect"
	"testing"

	. "github.com/onsi/ginkgo"
	. "github.com/onsi/ginkgo/extensions/table"
	. "github.com/onsi/gomega"

	"github.com/roytman/ovsdb-etcd/pkg/json"
	"github.com/roytman/ovsdb-etcd/pkg/json/OVN_Northbound"
	"github.com/roytman/ovsdb-etcd/pkg/json/OVN_Southbound"
	"github.com/roytman/ovsdb-etcd/pkg/json/_Server"
)

func TestJson(t *testing.T) {
	RegisterFailHandler(Fail)
	RunSpecs(t, "Json Suite")
}

var _ = Describe("json decoder", func() {
	var (
		//examples from file "db_0_ovn_sbctl-v_show"
		//original log line
		//2021-02-24T09:38:40Z|00013|jsonrpc|DBG|unix:/var/run/ovn/ovnsb_db.sock: received reply, result={"Database":{"dc078f65-e304-4ce6-8b2b-cf4e5fb2cc64":{"initial":{"name":"_Server","model":"standalone","connected":true,"schema":"{\"cksum\":\"3236486585 698\",\"name\":\"_Server\",\"tables\":{\"Database\":{\"columns\":{\"cid\":{\"type\":{\"key\":\"uuid\",\"min\":0}},\"connected\":{\"type\":\"boolean\"},\"index\":{\"type\":{\"key\":\"integer\",\"min\":0}},\"leader\":{\"type\":\"boolean\"},\"model\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"clustered\",\"standalone\"]],\"type\":\"string\"}}},\"name\":{\"type\":\"string\"},\"schema\":{\"type\":{\"key\":\"string\",\"min\":0}},\"sid\":{\"type\":{\"key\":\"uuid\",\"min\":0}}}}},\"version\":\"1.1.0\"}","leader":true}},"5e2888c9-84b1-4ebf-8d9f-c481f2dfe13d":{"initial":{"model":"clustered","name":"OVN_Southbound","connected":true,"leader":true,"schema":"{\"cksum\":\"539683023 25965\",\"name\":\"OVN_Southbound\",\"tables\":{\"Address_Set\":{\"columns\":{\"addresses\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0}},\"name\":{\"type\":\"string\"}},\"indexes\":[[\"name\"]],\"isRoot\":true},\"BFD\":{\"columns\":{\"detect_mult\":{\"type\":\"integer\"},\"disc\":{\"type\":\"integer\"},\"dst_ip\":{\"type\":\"string\"},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"logical_port\":{\"type\":\"string\"},\"min_rx\":{\"type\":\"integer\"},\"min_tx\":{\"type\":\"integer\"},\"options\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"src_port\":{\"type\":{\"key\":{\"maxInteger\":65535,\"minInteger\":49152,\"type\":\"integer\"}}},\"status\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"admin_down\",\"down\",\"init\",\"up\"]],\"type\":\"string\"}}}},\"indexes\":[[\"logical_port\",\"dst_ip\",\"src_port\",\"disc\"]],\"isRoot\":true},\"Chassis\":{\"columns\":{\"encaps\":{\"type\":{\"key\":{\"refTable\":\"Encap\",\"type\":\"uuid\"},\"max\":\"unlimited\"}},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"hostname\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"nb_cfg\":{\"type\":\"integer\"},\"other_config\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"transport_zones\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0}},\"vtep_logical_switches\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0}}},\"indexes\":[[\"name\"]],\"isRoot\":true},\"Chassis_Private\":{\"columns\":{\"chassis\":{\"type\":{\"key\":{\"refTable\":\"Chassis\",\"refType\":\"weak\",\"type\":\"uuid\"},\"min\":0}},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"name\":{\"type\":\"string\"},\"nb_cfg\":{\"type\":\"integer\"},\"nb_cfg_timestamp\":{\"type\":\"integer\"}},\"indexes\":[[\"name\"]],\"isRoot\":true},\"Connection\":{\"columns\":{\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"inactivity_probe\":{\"type\":{\"key\":\"integer\",\"min\":0}},\"is_connected\":{\"type\":\"boolean\"},\"max_backoff\":{\"type\":{\"key\":{\"minInteger\":1000,\"type\":\"integer\"},\"min\":0}},\"other_config\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"read_only\":{\"type\":\"boolean\"},\"role\":{\"type\":\"string\"},\"status\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"target\":{\"type\":\"string\"}},\"indexes\":[[\"target\"]]},\"Controller_Event\":{\"columns\":{\"chassis\":{\"type\":{\"key\":{\"refTable\":\"Chassis\",\"refType\":\"weak\",\"type\":\"uuid\"},\"min\":0}},\"event_info\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"event_type\":{\"type\":{\"key\":{\"enum\":\"empty_lb_backends\",\"type\":\"string\"}}},\"seq_num\":{\"type\":\"integer\"}},\"isRoot\":true},\"DHCP_Options\":{\"columns\":{\"code\":{\"type\":{\"key\":{\"maxInteger\":254,\"minInteger\":0,\"type\":\"integer\"}}},\"name\":{\"type\":\"string\"},\"type\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"bool\",\"domains\",\"host_id\",\"ipv4\",\"static_routes\",\"str\",\"uint16\",\"uint32\",\"uint8\"]],\"type\":\"string\"}}}},\"isRoot\":true},\"DHCPv6_Options\":{\"columns\":{\"code\":{\"type\":{\"key\":{\"maxInteger\":254,\"minInteger\":0,\"type\":\"integer\"}}},\"name\":{\"type\":\"string\"},\"type\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"ipv6\",\"mac\",\"str\"]],\"type\":\"string\"}}}},\"isRoot\":true},\"DNS\":{\"columns\":{\"datapaths\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"type\":\"uuid\"},\"max\":\"unlimited\"}},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"records\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}}},\"isRoot\":true},\"Datapath_Binding\":{\"columns\":{\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"load_balancers\":{\"type\":{\"key\":{\"refTable\":\"Load_Balancer\",\"refType\":\"weak\",\"type\":\"uuid\"},\"max\":\"unlimited\",\"min\":0}},\"tunnel_key\":{\"type\":{\"key\":{\"maxInteger\":16777215,\"minInteger\":1,\"type\":\"integer\"}}}},\"indexes\":[[\"tunnel_key\"]],\"isRoot\":true},\"Encap\":{\"columns\":{\"chassis_name\":{\"type\":\"string\"},\"ip\":{\"type\":\"string\"},\"options\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"type\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"geneve\",\"stt\",\"vxlan\"]],\"type\":\"string\"}}}},\"indexes\":[[\"type\",\"ip\"]]},\"Gateway_Chassis\":{\"columns\":{\"chassis\":{\"type\":{\"key\":{\"refTable\":\"Chassis\",\"refType\":\"weak\",\"type\":\"uuid\"},\"min\":0}},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"name\":{\"type\":\"string\"},\"options\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"priority\":{\"type\":{\"key\":{\"maxInteger\":32767,\"minInteger\":0,\"type\":\"integer\"}}}},\"indexes\":[[\"name\"]]},\"HA_Chassis\":{\"columns\":{\"chassis\":{\"type\":{\"key\":{\"refTable\":\"Chassis\",\"refType\":\"weak\",\"type\":\"uuid\"},\"min\":0}},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"priority\":{\"type\":{\"key\":{\"maxInteger\":32767,\"minInteger\":0,\"type\":\"integer\"}}}}},\"HA_Chassis_Group\":{\"columns\":{\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"ha_chassis\":{\"type\":{\"key\":{\"refTable\":\"HA_Chassis\",\"type\":\"uuid\"},\"max\":\"unlimited\",\"min\":0}},\"name\":{\"type\":\"string\"},\"ref_chassis\":{\"type\":{\"key\":{\"refTable\":\"Chassis\",\"refType\":\"weak\",\"type\":\"uuid\"},\"max\":\"unlimited\",\"min\":0}}},\"indexes\":[[\"name\"]],\"isRoot\":true},\"IGMP_Group\":{\"columns\":{\"address\":{\"type\":\"string\"},\"chassis\":{\"type\":{\"key\":{\"refTable\":\"Chassis\",\"refType\":\"weak\",\"type\":\"uuid\"},\"min\":0}},\"datapath\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"refType\":\"weak\",\"type\":\"uuid\"},\"min\":0}},\"ports\":{\"type\":{\"key\":{\"refTable\":\"Port_Binding\",\"refType\":\"weak\",\"type\":\"uuid\"},\"max\":\"unlimited\",\"min\":0}}},\"indexes\":[[\"address\",\"datapath\",\"chassis\"]],\"isRoot\":true},\"IP_Multicast\":{\"columns\":{\"datapath\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"refType\":\"weak\",\"type\":\"uuid\"}}},\"enabled\":{\"type\":{\"key\":\"boolean\",\"min\":0}},\"eth_src\":{\"type\":\"string\"},\"idle_timeout\":{\"type\":{\"key\":\"integer\",\"min\":0}},\"ip4_src\":{\"type\":\"string\"},\"ip6_src\":{\"type\":\"string\"},\"querier\":{\"type\":{\"key\":\"boolean\",\"min\":0}},\"query_interval\":{\"type\":{\"key\":\"integer\",\"min\":0}},\"query_max_resp\":{\"type\":{\"key\":\"integer\",\"min\":0}},\"seq_no\":{\"type\":\"integer\"},\"table_size\":{\"type\":{\"key\":\"integer\",\"min\":0}}},\"indexes\":[[\"datapath\"]],\"isRoot\":true},\"Load_Balancer\":{\"columns\":{\"datapaths\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"type\":\"uuid\"},\"max\":\"unlimited\",\"min\":0}},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"name\":{\"type\":\"string\"},\"options\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"protocol\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"sctp\",\"tcp\",\"udp\"]],\"type\":\"string\"},\"min\":0}},\"vips\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}}},\"isRoot\":true},\"Logical_DP_Group\":{\"columns\":{\"datapaths\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"refType\":\"weak\",\"type\":\"uuid\"},\"max\":\"unlimited\",\"min\":0}}}},\"Logical_Flow\":{\"columns\":{\"actions\":{\"type\":\"string\"},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"logical_datapath\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"type\":\"uuid\"},\"min\":0}},\"logical_dp_group\":{\"type\":{\"key\":{\"refTable\":\"Logical_DP_Group\",\"type\":\"uuid\"},\"min\":0}},\"match\":{\"type\":\"string\"},\"pipeline\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"egress\",\"ingress\"]],\"type\":\"string\"}}},\"priority\":{\"type\":{\"key\":{\"maxInteger\":65535,\"minInteger\":0,\"type\":\"integer\"}}},\"table_id\":{\"type\":{\"key\":{\"maxInteger\":23,\"minInteger\":0,\"type\":\"integer\"}}}},\"isRoot\":true},\"MAC_Binding\":{\"columns\":{\"datapath\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"type\":\"uuid\"}}},\"ip\":{\"type\":\"string\"},\"logical_port\":{\"type\":\"string\"},\"mac\":{\"type\":\"string\"}},\"indexes\":[[\"logical_port\",\"ip\"]],\"isRoot\":true},\"Meter\":{\"columns\":{\"bands\":{\"type\":{\"key\":{\"refTable\":\"Meter_Band\",\"type\":\"uuid\"},\"max\":\"unlimited\"}},\"name\":{\"type\":\"string\"},\"unit\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"kbps\",\"pktps\"]],\"type\":\"string\"}}}},\"indexes\":[[\"name\"]],\"isRoot\":true},\"Meter_Band\":{\"columns\":{\"action\":{\"type\":{\"key\":{\"enum\":\"drop\",\"type\":\"string\"}}},\"burst_size\":{\"type\":{\"key\":{\"maxInteger\":4294967295,\"minInteger\":0,\"type\":\"integer\"}}},\"rate\":{\"type\":{\"key\":{\"maxInteger\":4294967295,\"minInteger\":1,\"type\":\"integer\"}}}}},\"Multicast_Group\":{\"columns\":{\"datapath\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"type\":\"uuid\"}}},\"name\":{\"type\":\"string\"},\"ports\":{\"type\":{\"key\":{\"refTable\":\"Port_Binding\",\"refType\":\"weak\",\"type\":\"uuid\"},\"max\":\"unlimited\"}},\"tunnel_key\":{\"type\":{\"key\":{\"maxInteger\":65535,\"minInteger\":32768,\"type\":\"integer\"}}}},\"indexes\":[[\"datapath\",\"tunnel_key\"],[\"datapath\",\"name\"]],\"isRoot\":true},\"Port_Binding\":{\"columns\":{\"chassis\":{\"type\":{\"key\":{\"refTable\":\"Chassis\",\"refType\":\"weak\",\"type\":\"uuid\"},\"min\":0}},\"datapath\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"type\":\"uuid\"}}},\"encap\":{\"type\":{\"key\":{\"refTable\":\"Encap\",\"refType\":\"weak\",\"type\":\"uuid\"},\"min\":0}},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"gateway_chassis\":{\"type\":{\"key\":{\"refTable\":\"Gateway_Chassis\",\"type\":\"uuid\"},\"max\":\"unlimited\",\"min\":0}},\"ha_chassis_group\":{\"type\":{\"key\":{\"refTable\":\"HA_Chassis_Group\",\"type\":\"uuid\"},\"min\":0}},\"logical_port\":{\"type\":\"string\"},\"mac\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0}},\"nat_addresses\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0}},\"options\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"parent_port\":{\"type\":{\"key\":\"string\",\"min\":0}},\"tag\":{\"type\":{\"key\":{\"maxInteger\":4095,\"minInteger\":1,\"type\":\"integer\"},\"min\":0}},\"tunnel_key\":{\"type\":{\"key\":{\"maxInteger\":32767,\"minInteger\":1,\"type\":\"integer\"}}},\"type\":{\"type\":\"string\"},\"up\":{\"type\":{\"key\":\"boolean\",\"min\":0}},\"virtual_parent\":{\"type\":{\"key\":\"string\",\"min\":0}}},\"indexes\":[[\"datapath\",\"tunnel_key\"],[\"logical_port\"]],\"isRoot\":true},\"Port_Group\":{\"columns\":{\"name\":{\"type\":\"string\"},\"ports\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0}}},\"indexes\":[[\"name\"]],\"isRoot\":true},\"RBAC_Permission\":{\"columns\":{\"authorization\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0}},\"insert_delete\":{\"type\":\"boolean\"},\"table\":{\"type\":\"string\"},\"update\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0}}},\"isRoot\":true},\"RBAC_Role\":{\"columns\":{\"name\":{\"type\":\"string\"},\"permissions\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":{\"refTable\":\"RBAC_Permission\",\"refType\":\"weak\",\"type\":\"uuid\"}}}},\"isRoot\":true},\"SB_Global\":{\"columns\":{\"connections\":{\"type\":{\"key\":{\"refTable\":\"Connection\",\"type\":\"uuid\"},\"max\":\"unlimited\",\"min\":0}},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"ipsec\":{\"type\":\"boolean\"},\"nb_cfg\":{\"type\":\"integer\"},\"options\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"ssl\":{\"type\":{\"key\":{\"refTable\":\"SSL\",\"type\":\"uuid\"},\"min\":0}}},\"isRoot\":true,\"maxRows\":1},\"SSL\":{\"columns\":{\"bootstrap_ca_cert\":{\"type\":\"boolean\"},\"ca_cert\":{\"type\":\"string\"},\"certificate\":{\"type\":\"string\"},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"private_key\":{\"type\":\"string\"},\"ssl_ciphers\":{\"type\":\"string\"},\"ssl_protocols\":{\"type\":\"string\"}},\"maxRows\":1},\"Service_Monitor\":{\"columns\":{\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"ip\":{\"type\":\"string\"},\"logical_port\":{\"type\":\"string\"},\"options\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"port\":{\"type\":{\"key\":{\"maxInteger\":32767,\"minInteger\":0,\"type\":\"integer\"}}},\"protocol\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"tcp\",\"udp\"]],\"type\":\"string\"},\"min\":0}},\"src_ip\":{\"type\":\"string\"},\"src_mac\":{\"type\":\"string\"},\"status\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"error\",\"offline\",\"online\"]],\"type\":\"string\"},\"min\":0}}},\"indexes\":[[\"logical_port\",\"ip\",\"port\",\"protocol\"]],\"isRoot\":true}},\"version\":\"20.15.0\"}","cid":["uuid","61a218c6-646e-4ae4-9e02-242a9f48717c"],"sid":["uuid","f736c831-22a8-45f3-baae-3a135b00a5e6"],"index":375}}}}, id=1
		//Types
		//Database
		//types Database
		database_1_json = `{"name":"_Server","model":"standalone","connected":true,"schema":"{\"cksum\":\"3236486585 698\",\"name\":\"_Server\",\"tables\":{\"Database\":{\"columns\":{\"cid\":{\"type\":{\"key\":\"uuid\",\"min\":0}},\"connected\":{\"type\":\"boolean\"},\"index\":{\"type\":{\"key\":\"integer\",\"min\":0}},\"leader\":{\"type\":\"boolean\"},\"model\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"clustered\",\"standalone\"]],\"type\":\"string\"}}},\"name\":{\"type\":\"string\"},\"schema\":{\"type\":{\"key\":\"string\",\"min\":0}},\"sid\":{\"type\":{\"key\":\"uuid\",\"min\":0}}}}},\"version\":\"1.1.0\"}","leader":true}`
		database_1_obj  = _Server.Database{
			Name:      "_Server",
			Model:     "standalone",
			Connected: true,
			Leader:    true,
			Schema:    `{\"cksum\":\"3236486585 698\",\"name\":\"_Server\",\"tables\":{\"Database\":{\"columns\":{\"cid\":{\"type\":{\"key\":\"uuid\",\"min\":0}},\"connected\":{\"type\":\"boolean\"},\"index\":{\"type\":{\"key\":\"integer\",\"min\":0}},\"leader\":{\"type\":\"boolean\"},\"model\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"clustered\",\"standalone\"]],\"type\":\"string\"}}},\"name\":{\"type\":\"string\"},\"schema\":{\"type\":{\"key\":\"string\",\"min\":0}},\"sid\":{\"type\":{\"key\":\"uuid\",\"min\":0}}}}},\"version\":\"1.1.0\"}`,
			Cid:       "",
			Sid:       "",
			Index:     0,
		}
		database_2_json = `{"model":"clustered","name":"OVN_Southbound","connected":true,"leader":true,"schema":"{\"cksum\":\"539683023 25965\",\"name\":\"OVN_Southbound\",\"tables\":{\"Address_Set\":{\"columns\":{\"addresses\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0}},\"name\":{\"type\":\"string\"}},\"indexes\":[[\"name\"]],\"isRoot\":true},\"BFD\":{\"columns\":{\"detect_mult\":{\"type\":\"integer\"},\"disc\":{\"type\":\"integer\"},\"dst_ip\":{\"type\":\"string\"},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"logical_port\":{\"type\":\"string\"},\"min_rx\":{\"type\":\"integer\"},\"min_tx\":{\"type\":\"integer\"},\"options\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"src_port\":{\"type\":{\"key\":{\"maxInteger\":65535,\"minInteger\":49152,\"type\":\"integer\"}}},\"status\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"admin_down\",\"down\",\"init\",\"up\"]],\"type\":\"string\"}}}},\"indexes\":[[\"logical_port\",\"dst_ip\",\"src_port\",\"disc\"]],\"isRoot\":true},\"Chassis\":{\"columns\":{\"encaps\":{\"type\":{\"key\":{\"refTable\":\"Encap\",\"type\":\"uuid\"},\"max\":\"unlimited\"}},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"hostname\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"nb_cfg\":{\"type\":\"integer\"},\"other_config\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"transport_zones\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0}},\"vtep_logical_switches\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0}}},\"indexes\":[[\"name\"]],\"isRoot\":true},\"Chassis_Private\":{\"columns\":{\"chassis\":{\"type\":{\"key\":{\"refTable\":\"Chassis\",\"refType\":\"weak\",\"type\":\"uuid\"},\"min\":0}},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"name\":{\"type\":\"string\"},\"nb_cfg\":{\"type\":\"integer\"},\"nb_cfg_timestamp\":{\"type\":\"integer\"}},\"indexes\":[[\"name\"]],\"isRoot\":true},\"Connection\":{\"columns\":{\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"inactivity_probe\":{\"type\":{\"key\":\"integer\",\"min\":0}},\"is_connected\":{\"type\":\"boolean\"},\"max_backoff\":{\"type\":{\"key\":{\"minInteger\":1000,\"type\":\"integer\"},\"min\":0}},\"other_config\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"read_only\":{\"type\":\"boolean\"},\"role\":{\"type\":\"string\"},\"status\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"target\":{\"type\":\"string\"}},\"indexes\":[[\"target\"]]},\"Controller_Event\":{\"columns\":{\"chassis\":{\"type\":{\"key\":{\"refTable\":\"Chassis\",\"refType\":\"weak\",\"type\":\"uuid\"},\"min\":0}},\"event_info\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"event_type\":{\"type\":{\"key\":{\"enum\":\"empty_lb_backends\",\"type\":\"string\"}}},\"seq_num\":{\"type\":\"integer\"}},\"isRoot\":true},\"DHCP_Options\":{\"columns\":{\"code\":{\"type\":{\"key\":{\"maxInteger\":254,\"minInteger\":0,\"type\":\"integer\"}}},\"name\":{\"type\":\"string\"},\"type\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"bool\",\"domains\",\"host_id\",\"ipv4\",\"static_routes\",\"str\",\"uint16\",\"uint32\",\"uint8\"]],\"type\":\"string\"}}}},\"isRoot\":true},\"DHCPv6_Options\":{\"columns\":{\"code\":{\"type\":{\"key\":{\"maxInteger\":254,\"minInteger\":0,\"type\":\"integer\"}}},\"name\":{\"type\":\"string\"},\"type\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"ipv6\",\"mac\",\"str\"]],\"type\":\"string\"}}}},\"isRoot\":true},\"DNS\":{\"columns\":{\"datapaths\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"type\":\"uuid\"},\"max\":\"unlimited\"}},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"records\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}}},\"isRoot\":true},\"Datapath_Binding\":{\"columns\":{\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"load_balancers\":{\"type\":{\"key\":{\"refTable\":\"Load_Balancer\",\"refType\":\"weak\",\"type\":\"uuid\"},\"max\":\"unlimited\",\"min\":0}},\"tunnel_key\":{\"type\":{\"key\":{\"maxInteger\":16777215,\"minInteger\":1,\"type\":\"integer\"}}}},\"indexes\":[[\"tunnel_key\"]],\"isRoot\":true},\"Encap\":{\"columns\":{\"chassis_name\":{\"type\":\"string\"},\"ip\":{\"type\":\"string\"},\"options\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"type\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"geneve\",\"stt\",\"vxlan\"]],\"type\":\"string\"}}}},\"indexes\":[[\"type\",\"ip\"]]},\"Gateway_Chassis\":{\"columns\":{\"chassis\":{\"type\":{\"key\":{\"refTable\":\"Chassis\",\"refType\":\"weak\",\"type\":\"uuid\"},\"min\":0}},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"name\":{\"type\":\"string\"},\"options\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"priority\":{\"type\":{\"key\":{\"maxInteger\":32767,\"minInteger\":0,\"type\":\"integer\"}}}},\"indexes\":[[\"name\"]]},\"HA_Chassis\":{\"columns\":{\"chassis\":{\"type\":{\"key\":{\"refTable\":\"Chassis\",\"refType\":\"weak\",\"type\":\"uuid\"},\"min\":0}},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"priority\":{\"type\":{\"key\":{\"maxInteger\":32767,\"minInteger\":0,\"type\":\"integer\"}}}}},\"HA_Chassis_Group\":{\"columns\":{\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"ha_chassis\":{\"type\":{\"key\":{\"refTable\":\"HA_Chassis\",\"type\":\"uuid\"},\"max\":\"unlimited\",\"min\":0}},\"name\":{\"type\":\"string\"},\"ref_chassis\":{\"type\":{\"key\":{\"refTable\":\"Chassis\",\"refType\":\"weak\",\"type\":\"uuid\"},\"max\":\"unlimited\",\"min\":0}}},\"indexes\":[[\"name\"]],\"isRoot\":true},\"IGMP_Group\":{\"columns\":{\"address\":{\"type\":\"string\"},\"chassis\":{\"type\":{\"key\":{\"refTable\":\"Chassis\",\"refType\":\"weak\",\"type\":\"uuid\"},\"min\":0}},\"datapath\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"refType\":\"weak\",\"type\":\"uuid\"},\"min\":0}},\"ports\":{\"type\":{\"key\":{\"refTable\":\"Port_Binding\",\"refType\":\"weak\",\"type\":\"uuid\"},\"max\":\"unlimited\",\"min\":0}}},\"indexes\":[[\"address\",\"datapath\",\"chassis\"]],\"isRoot\":true},\"IP_Multicast\":{\"columns\":{\"datapath\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"refType\":\"weak\",\"type\":\"uuid\"}}},\"enabled\":{\"type\":{\"key\":\"boolean\",\"min\":0}},\"eth_src\":{\"type\":\"string\"},\"idle_timeout\":{\"type\":{\"key\":\"integer\",\"min\":0}},\"ip4_src\":{\"type\":\"string\"},\"ip6_src\":{\"type\":\"string\"},\"querier\":{\"type\":{\"key\":\"boolean\",\"min\":0}},\"query_interval\":{\"type\":{\"key\":\"integer\",\"min\":0}},\"query_max_resp\":{\"type\":{\"key\":\"integer\",\"min\":0}},\"seq_no\":{\"type\":\"integer\"},\"table_size\":{\"type\":{\"key\":\"integer\",\"min\":0}}},\"indexes\":[[\"datapath\"]],\"isRoot\":true},\"Load_Balancer\":{\"columns\":{\"datapaths\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"type\":\"uuid\"},\"max\":\"unlimited\",\"min\":0}},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"name\":{\"type\":\"string\"},\"options\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"protocol\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"sctp\",\"tcp\",\"udp\"]],\"type\":\"string\"},\"min\":0}},\"vips\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}}},\"isRoot\":true},\"Logical_DP_Group\":{\"columns\":{\"datapaths\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"refType\":\"weak\",\"type\":\"uuid\"},\"max\":\"unlimited\",\"min\":0}}}},\"Logical_Flow\":{\"columns\":{\"actions\":{\"type\":\"string\"},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"logical_datapath\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"type\":\"uuid\"},\"min\":0}},\"logical_dp_group\":{\"type\":{\"key\":{\"refTable\":\"Logical_DP_Group\",\"type\":\"uuid\"},\"min\":0}},\"match\":{\"type\":\"string\"},\"pipeline\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"egress\",\"ingress\"]],\"type\":\"string\"}}},\"priority\":{\"type\":{\"key\":{\"maxInteger\":65535,\"minInteger\":0,\"type\":\"integer\"}}},\"table_id\":{\"type\":{\"key\":{\"maxInteger\":23,\"minInteger\":0,\"type\":\"integer\"}}}},\"isRoot\":true},\"MAC_Binding\":{\"columns\":{\"datapath\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"type\":\"uuid\"}}},\"ip\":{\"type\":\"string\"},\"logical_port\":{\"type\":\"string\"},\"mac\":{\"type\":\"string\"}},\"indexes\":[[\"logical_port\",\"ip\"]],\"isRoot\":true},\"Meter\":{\"columns\":{\"bands\":{\"type\":{\"key\":{\"refTable\":\"Meter_Band\",\"type\":\"uuid\"},\"max\":\"unlimited\"}},\"name\":{\"type\":\"string\"},\"unit\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"kbps\",\"pktps\"]],\"type\":\"string\"}}}},\"indexes\":[[\"name\"]],\"isRoot\":true},\"Meter_Band\":{\"columns\":{\"action\":{\"type\":{\"key\":{\"enum\":\"drop\",\"type\":\"string\"}}},\"burst_size\":{\"type\":{\"key\":{\"maxInteger\":4294967295,\"minInteger\":0,\"type\":\"integer\"}}},\"rate\":{\"type\":{\"key\":{\"maxInteger\":4294967295,\"minInteger\":1,\"type\":\"integer\"}}}}},\"Multicast_Group\":{\"columns\":{\"datapath\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"type\":\"uuid\"}}},\"name\":{\"type\":\"string\"},\"ports\":{\"type\":{\"key\":{\"refTable\":\"Port_Binding\",\"refType\":\"weak\",\"type\":\"uuid\"},\"max\":\"unlimited\"}},\"tunnel_key\":{\"type\":{\"key\":{\"maxInteger\":65535,\"minInteger\":32768,\"type\":\"integer\"}}}},\"indexes\":[[\"datapath\",\"tunnel_key\"],[\"datapath\",\"name\"]],\"isRoot\":true},\"Port_Binding\":{\"columns\":{\"chassis\":{\"type\":{\"key\":{\"refTable\":\"Chassis\",\"refType\":\"weak\",\"type\":\"uuid\"},\"min\":0}},\"datapath\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"type\":\"uuid\"}}},\"encap\":{\"type\":{\"key\":{\"refTable\":\"Encap\",\"refType\":\"weak\",\"type\":\"uuid\"},\"min\":0}},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"gateway_chassis\":{\"type\":{\"key\":{\"refTable\":\"Gateway_Chassis\",\"type\":\"uuid\"},\"max\":\"unlimited\",\"min\":0}},\"ha_chassis_group\":{\"type\":{\"key\":{\"refTable\":\"HA_Chassis_Group\",\"type\":\"uuid\"},\"min\":0}},\"logical_port\":{\"type\":\"string\"},\"mac\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0}},\"nat_addresses\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0}},\"options\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"parent_port\":{\"type\":{\"key\":\"string\",\"min\":0}},\"tag\":{\"type\":{\"key\":{\"maxInteger\":4095,\"minInteger\":1,\"type\":\"integer\"},\"min\":0}},\"tunnel_key\":{\"type\":{\"key\":{\"maxInteger\":32767,\"minInteger\":1,\"type\":\"integer\"}}},\"type\":{\"type\":\"string\"},\"up\":{\"type\":{\"key\":\"boolean\",\"min\":0}},\"virtual_parent\":{\"type\":{\"key\":\"string\",\"min\":0}}},\"indexes\":[[\"datapath\",\"tunnel_key\"],[\"logical_port\"]],\"isRoot\":true},\"Port_Group\":{\"columns\":{\"name\":{\"type\":\"string\"},\"ports\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0}}},\"indexes\":[[\"name\"]],\"isRoot\":true},\"RBAC_Permission\":{\"columns\":{\"authorization\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0}},\"insert_delete\":{\"type\":\"boolean\"},\"table\":{\"type\":\"string\"},\"update\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0}}},\"isRoot\":true},\"RBAC_Role\":{\"columns\":{\"name\":{\"type\":\"string\"},\"permissions\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":{\"refTable\":\"RBAC_Permission\",\"refType\":\"weak\",\"type\":\"uuid\"}}}},\"isRoot\":true},\"SB_Global\":{\"columns\":{\"connections\":{\"type\":{\"key\":{\"refTable\":\"Connection\",\"type\":\"uuid\"},\"max\":\"unlimited\",\"min\":0}},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"ipsec\":{\"type\":\"boolean\"},\"nb_cfg\":{\"type\":\"integer\"},\"options\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"ssl\":{\"type\":{\"key\":{\"refTable\":\"SSL\",\"type\":\"uuid\"},\"min\":0}}},\"isRoot\":true,\"maxRows\":1},\"SSL\":{\"columns\":{\"bootstrap_ca_cert\":{\"type\":\"boolean\"},\"ca_cert\":{\"type\":\"string\"},\"certificate\":{\"type\":\"string\"},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"private_key\":{\"type\":\"string\"},\"ssl_ciphers\":{\"type\":\"string\"},\"ssl_protocols\":{\"type\":\"string\"}},\"maxRows\":1},\"Service_Monitor\":{\"columns\":{\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"ip\":{\"type\":\"string\"},\"logical_port\":{\"type\":\"string\"},\"options\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"port\":{\"type\":{\"key\":{\"maxInteger\":32767,\"minInteger\":0,\"type\":\"integer\"}}},\"protocol\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"tcp\",\"udp\"]],\"type\":\"string\"},\"min\":0}},\"src_ip\":{\"type\":\"string\"},\"src_mac\":{\"type\":\"string\"},\"status\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"error\",\"offline\",\"online\"]],\"type\":\"string\"},\"min\":0}}},\"indexes\":[[\"logical_port\",\"ip\",\"port\",\"protocol\"]],\"isRoot\":true}},\"version\":\"20.15.0\"}","cid":["uuid","61a218c6-646e-4ae4-9e02-242a9f48717c"],"sid":["uuid","f736c831-22a8-45f3-baae-3a135b00a5e6"],"index":375}`
		database_2_obj  = _Server.Database{
			Name:      "OVN_Southbound",
			Model:     "clustered",
			Connected: true,
			Leader:    true,
			Schema:    `{\"cksum\":\"539683023 25965\",\"name\":\"OVN_Southbound\",\"tables\":{\"Address_Set\":{\"columns\":{\"addresses\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0}},\"name\":{\"type\":\"string\"}},\"indexes\":[[\"name\"]],\"isRoot\":true},\"BFD\":{\"columns\":{\"detect_mult\":{\"type\":\"integer\"},\"disc\":{\"type\":\"integer\"},\"dst_ip\":{\"type\":\"string\"},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"logical_port\":{\"type\":\"string\"},\"min_rx\":{\"type\":\"integer\"},\"min_tx\":{\"type\":\"integer\"},\"options\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"src_port\":{\"type\":{\"key\":{\"maxInteger\":65535,\"minInteger\":49152,\"type\":\"integer\"}}},\"status\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"admin_down\",\"down\",\"init\",\"up\"]],\"type\":\"string\"}}}},\"indexes\":[[\"logical_port\",\"dst_ip\",\"src_port\",\"disc\"]],\"isRoot\":true},\"Chassis\":{\"columns\":{\"encaps\":{\"type\":{\"key\":{\"refTable\":\"Encap\",\"type\":\"uuid\"},\"max\":\"unlimited\"}},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"hostname\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"nb_cfg\":{\"type\":\"integer\"},\"other_config\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"transport_zones\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0}},\"vtep_logical_switches\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0}}},\"indexes\":[[\"name\"]],\"isRoot\":true},\"Chassis_Private\":{\"columns\":{\"chassis\":{\"type\":{\"key\":{\"refTable\":\"Chassis\",\"refType\":\"weak\",\"type\":\"uuid\"},\"min\":0}},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"name\":{\"type\":\"string\"},\"nb_cfg\":{\"type\":\"integer\"},\"nb_cfg_timestamp\":{\"type\":\"integer\"}},\"indexes\":[[\"name\"]],\"isRoot\":true},\"Connection\":{\"columns\":{\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"inactivity_probe\":{\"type\":{\"key\":\"integer\",\"min\":0}},\"is_connected\":{\"type\":\"boolean\"},\"max_backoff\":{\"type\":{\"key\":{\"minInteger\":1000,\"type\":\"integer\"},\"min\":0}},\"other_config\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"read_only\":{\"type\":\"boolean\"},\"role\":{\"type\":\"string\"},\"status\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"target\":{\"type\":\"string\"}},\"indexes\":[[\"target\"]]},\"Controller_Event\":{\"columns\":{\"chassis\":{\"type\":{\"key\":{\"refTable\":\"Chassis\",\"refType\":\"weak\",\"type\":\"uuid\"},\"min\":0}},\"event_info\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"event_type\":{\"type\":{\"key\":{\"enum\":\"empty_lb_backends\",\"type\":\"string\"}}},\"seq_num\":{\"type\":\"integer\"}},\"isRoot\":true},\"DHCP_Options\":{\"columns\":{\"code\":{\"type\":{\"key\":{\"maxInteger\":254,\"minInteger\":0,\"type\":\"integer\"}}},\"name\":{\"type\":\"string\"},\"type\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"bool\",\"domains\",\"host_id\",\"ipv4\",\"static_routes\",\"str\",\"uint16\",\"uint32\",\"uint8\"]],\"type\":\"string\"}}}},\"isRoot\":true},\"DHCPv6_Options\":{\"columns\":{\"code\":{\"type\":{\"key\":{\"maxInteger\":254,\"minInteger\":0,\"type\":\"integer\"}}},\"name\":{\"type\":\"string\"},\"type\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"ipv6\",\"mac\",\"str\"]],\"type\":\"string\"}}}},\"isRoot\":true},\"DNS\":{\"columns\":{\"datapaths\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"type\":\"uuid\"},\"max\":\"unlimited\"}},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"records\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}}},\"isRoot\":true},\"Datapath_Binding\":{\"columns\":{\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"load_balancers\":{\"type\":{\"key\":{\"refTable\":\"Load_Balancer\",\"refType\":\"weak\",\"type\":\"uuid\"},\"max\":\"unlimited\",\"min\":0}},\"tunnel_key\":{\"type\":{\"key\":{\"maxInteger\":16777215,\"minInteger\":1,\"type\":\"integer\"}}}},\"indexes\":[[\"tunnel_key\"]],\"isRoot\":true},\"Encap\":{\"columns\":{\"chassis_name\":{\"type\":\"string\"},\"ip\":{\"type\":\"string\"},\"options\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"type\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"geneve\",\"stt\",\"vxlan\"]],\"type\":\"string\"}}}},\"indexes\":[[\"type\",\"ip\"]]},\"Gateway_Chassis\":{\"columns\":{\"chassis\":{\"type\":{\"key\":{\"refTable\":\"Chassis\",\"refType\":\"weak\",\"type\":\"uuid\"},\"min\":0}},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"name\":{\"type\":\"string\"},\"options\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"priority\":{\"type\":{\"key\":{\"maxInteger\":32767,\"minInteger\":0,\"type\":\"integer\"}}}},\"indexes\":[[\"name\"]]},\"HA_Chassis\":{\"columns\":{\"chassis\":{\"type\":{\"key\":{\"refTable\":\"Chassis\",\"refType\":\"weak\",\"type\":\"uuid\"},\"min\":0}},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"priority\":{\"type\":{\"key\":{\"maxInteger\":32767,\"minInteger\":0,\"type\":\"integer\"}}}}},\"HA_Chassis_Group\":{\"columns\":{\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"ha_chassis\":{\"type\":{\"key\":{\"refTable\":\"HA_Chassis\",\"type\":\"uuid\"},\"max\":\"unlimited\",\"min\":0}},\"name\":{\"type\":\"string\"},\"ref_chassis\":{\"type\":{\"key\":{\"refTable\":\"Chassis\",\"refType\":\"weak\",\"type\":\"uuid\"},\"max\":\"unlimited\",\"min\":0}}},\"indexes\":[[\"name\"]],\"isRoot\":true},\"IGMP_Group\":{\"columns\":{\"address\":{\"type\":\"string\"},\"chassis\":{\"type\":{\"key\":{\"refTable\":\"Chassis\",\"refType\":\"weak\",\"type\":\"uuid\"},\"min\":0}},\"datapath\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"refType\":\"weak\",\"type\":\"uuid\"},\"min\":0}},\"ports\":{\"type\":{\"key\":{\"refTable\":\"Port_Binding\",\"refType\":\"weak\",\"type\":\"uuid\"},\"max\":\"unlimited\",\"min\":0}}},\"indexes\":[[\"address\",\"datapath\",\"chassis\"]],\"isRoot\":true},\"IP_Multicast\":{\"columns\":{\"datapath\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"refType\":\"weak\",\"type\":\"uuid\"}}},\"enabled\":{\"type\":{\"key\":\"boolean\",\"min\":0}},\"eth_src\":{\"type\":\"string\"},\"idle_timeout\":{\"type\":{\"key\":\"integer\",\"min\":0}},\"ip4_src\":{\"type\":\"string\"},\"ip6_src\":{\"type\":\"string\"},\"querier\":{\"type\":{\"key\":\"boolean\",\"min\":0}},\"query_interval\":{\"type\":{\"key\":\"integer\",\"min\":0}},\"query_max_resp\":{\"type\":{\"key\":\"integer\",\"min\":0}},\"seq_no\":{\"type\":\"integer\"},\"table_size\":{\"type\":{\"key\":\"integer\",\"min\":0}}},\"indexes\":[[\"datapath\"]],\"isRoot\":true},\"Load_Balancer\":{\"columns\":{\"datapaths\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"type\":\"uuid\"},\"max\":\"unlimited\",\"min\":0}},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"name\":{\"type\":\"string\"},\"options\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"protocol\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"sctp\",\"tcp\",\"udp\"]],\"type\":\"string\"},\"min\":0}},\"vips\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}}},\"isRoot\":true},\"Logical_DP_Group\":{\"columns\":{\"datapaths\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"refType\":\"weak\",\"type\":\"uuid\"},\"max\":\"unlimited\",\"min\":0}}}},\"Logical_Flow\":{\"columns\":{\"actions\":{\"type\":\"string\"},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"logical_datapath\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"type\":\"uuid\"},\"min\":0}},\"logical_dp_group\":{\"type\":{\"key\":{\"refTable\":\"Logical_DP_Group\",\"type\":\"uuid\"},\"min\":0}},\"match\":{\"type\":\"string\"},\"pipeline\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"egress\",\"ingress\"]],\"type\":\"string\"}}},\"priority\":{\"type\":{\"key\":{\"maxInteger\":65535,\"minInteger\":0,\"type\":\"integer\"}}},\"table_id\":{\"type\":{\"key\":{\"maxInteger\":23,\"minInteger\":0,\"type\":\"integer\"}}}},\"isRoot\":true},\"MAC_Binding\":{\"columns\":{\"datapath\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"type\":\"uuid\"}}},\"ip\":{\"type\":\"string\"},\"logical_port\":{\"type\":\"string\"},\"mac\":{\"type\":\"string\"}},\"indexes\":[[\"logical_port\",\"ip\"]],\"isRoot\":true},\"Meter\":{\"columns\":{\"bands\":{\"type\":{\"key\":{\"refTable\":\"Meter_Band\",\"type\":\"uuid\"},\"max\":\"unlimited\"}},\"name\":{\"type\":\"string\"},\"unit\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"kbps\",\"pktps\"]],\"type\":\"string\"}}}},\"indexes\":[[\"name\"]],\"isRoot\":true},\"Meter_Band\":{\"columns\":{\"action\":{\"type\":{\"key\":{\"enum\":\"drop\",\"type\":\"string\"}}},\"burst_size\":{\"type\":{\"key\":{\"maxInteger\":4294967295,\"minInteger\":0,\"type\":\"integer\"}}},\"rate\":{\"type\":{\"key\":{\"maxInteger\":4294967295,\"minInteger\":1,\"type\":\"integer\"}}}}},\"Multicast_Group\":{\"columns\":{\"datapath\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"type\":\"uuid\"}}},\"name\":{\"type\":\"string\"},\"ports\":{\"type\":{\"key\":{\"refTable\":\"Port_Binding\",\"refType\":\"weak\",\"type\":\"uuid\"},\"max\":\"unlimited\"}},\"tunnel_key\":{\"type\":{\"key\":{\"maxInteger\":65535,\"minInteger\":32768,\"type\":\"integer\"}}}},\"indexes\":[[\"datapath\",\"tunnel_key\"],[\"datapath\",\"name\"]],\"isRoot\":true},\"Port_Binding\":{\"columns\":{\"chassis\":{\"type\":{\"key\":{\"refTable\":\"Chassis\",\"refType\":\"weak\",\"type\":\"uuid\"},\"min\":0}},\"datapath\":{\"type\":{\"key\":{\"refTable\":\"Datapath_Binding\",\"type\":\"uuid\"}}},\"encap\":{\"type\":{\"key\":{\"refTable\":\"Encap\",\"refType\":\"weak\",\"type\":\"uuid\"},\"min\":0}},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"gateway_chassis\":{\"type\":{\"key\":{\"refTable\":\"Gateway_Chassis\",\"type\":\"uuid\"},\"max\":\"unlimited\",\"min\":0}},\"ha_chassis_group\":{\"type\":{\"key\":{\"refTable\":\"HA_Chassis_Group\",\"type\":\"uuid\"},\"min\":0}},\"logical_port\":{\"type\":\"string\"},\"mac\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0}},\"nat_addresses\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0}},\"options\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"parent_port\":{\"type\":{\"key\":\"string\",\"min\":0}},\"tag\":{\"type\":{\"key\":{\"maxInteger\":4095,\"minInteger\":1,\"type\":\"integer\"},\"min\":0}},\"tunnel_key\":{\"type\":{\"key\":{\"maxInteger\":32767,\"minInteger\":1,\"type\":\"integer\"}}},\"type\":{\"type\":\"string\"},\"up\":{\"type\":{\"key\":\"boolean\",\"min\":0}},\"virtual_parent\":{\"type\":{\"key\":\"string\",\"min\":0}}},\"indexes\":[[\"datapath\",\"tunnel_key\"],[\"logical_port\"]],\"isRoot\":true},\"Port_Group\":{\"columns\":{\"name\":{\"type\":\"string\"},\"ports\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0}}},\"indexes\":[[\"name\"]],\"isRoot\":true},\"RBAC_Permission\":{\"columns\":{\"authorization\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0}},\"insert_delete\":{\"type\":\"boolean\"},\"table\":{\"type\":\"string\"},\"update\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0}}},\"isRoot\":true},\"RBAC_Role\":{\"columns\":{\"name\":{\"type\":\"string\"},\"permissions\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":{\"refTable\":\"RBAC_Permission\",\"refType\":\"weak\",\"type\":\"uuid\"}}}},\"isRoot\":true},\"SB_Global\":{\"columns\":{\"connections\":{\"type\":{\"key\":{\"refTable\":\"Connection\",\"type\":\"uuid\"},\"max\":\"unlimited\",\"min\":0}},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"ipsec\":{\"type\":\"boolean\"},\"nb_cfg\":{\"type\":\"integer\"},\"options\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"ssl\":{\"type\":{\"key\":{\"refTable\":\"SSL\",\"type\":\"uuid\"},\"min\":0}}},\"isRoot\":true,\"maxRows\":1},\"SSL\":{\"columns\":{\"bootstrap_ca_cert\":{\"type\":\"boolean\"},\"ca_cert\":{\"type\":\"string\"},\"certificate\":{\"type\":\"string\"},\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"private_key\":{\"type\":\"string\"},\"ssl_ciphers\":{\"type\":\"string\"},\"ssl_protocols\":{\"type\":\"string\"}},\"maxRows\":1},\"Service_Monitor\":{\"columns\":{\"external_ids\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"ip\":{\"type\":\"string\"},\"logical_port\":{\"type\":\"string\"},\"options\":{\"type\":{\"key\":\"string\",\"max\":\"unlimited\",\"min\":0,\"value\":\"string\"}},\"port\":{\"type\":{\"key\":{\"maxInteger\":32767,\"minInteger\":0,\"type\":\"integer\"}}},\"protocol\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"tcp\",\"udp\"]],\"type\":\"string\"},\"min\":0}},\"src_ip\":{\"type\":\"string\"},\"src_mac\":{\"type\":\"string\"},\"status\":{\"type\":{\"key\":{\"enum\":[\"set\",[\"error\",\"offline\",\"online\"]],\"type\":\"string\"},\"min\":0}}},\"indexes\":[[\"logical_port\",\"ip\",\"port\",\"protocol\"]],\"isRoot\":true}},\"version\":\"20.15.0\"}`,
			Cid:       "61a218c6-646e-4ae4-9e02-242a9f48717c",
			Sid:       "f736c831-22a8-45f3-baae-3a135b00a5e6",
			Index:     375,
		}
		//original log line
		//2021-02-24T09:38:40Z|00018|jsonrpc|DBG|unix:/var/run/ovn/ovnsb_db.sock: received reply, result=[false,"8bccb94f-39f8-428a-954f-669f7bbf633f",{"Chassis":{"b7579f82-e547-4b0d-bddc-5ebf6c25f58a":{"initial":{"name":"54ef0a9b-e5ec-4055-a6b3-77ab41142db1","hostname":"ovn-worker2","encaps":["uuid","5c49da08-0360-497d-8a3a-4370bcdc72d1"]}},"daa1b5c9-45e1-469a-887e-923fb075ab3a":{"initial":{"name":"17a64fa1-3958-42c0-94d5-10306978f3f4","hostname":"ovn-control-plane","encaps":["uuid","8c48622d-bb02-49c3-8959-3543dd51050b"]}},"ae27c4bd-517b-4208-8541-770d0d08a39a":{"initial":{"name":"72c6bb01-17b9-4d84-8b65-24474a48e38a","hostname":"ovn-worker","encaps":["uuid","e511279a-889e-44f7-b60c-ab24d5b6276b"]}}},"Encap":{"8c48622d-bb02-49c3-8959-3543dd51050b":{"initial":{"ip":"172.18.0.3","options":["map",[["csum","true"]]],"type":"geneve"}},"e511279a-889e-44f7-b60c-ab24d5b6276b":{"initial":{"ip":"172.18.0.2","options":["map",[["csum","true"]]],"type":"geneve"}},"5c49da08-0360-497d-8a3a-4370bcdc72d1":{"initial":{"ip":"172.18.0.4","options":["map",[["csum","true"]]],"type":"geneve"}}},"SB_Global":{"e007210d-9526-4063-8712-342186c7b39f":{"initial":{}}},"Port_Binding":{"9100e618-738a-403a-8ed6-fa0cc9bad182":{"initial":{"chassis":["uuid","b7579f82-e547-4b0d-bddc-5ebf6c25f58a"],"logical_port":"rtoe-GR_ovn-worker2"}},"c4bd3b7e-04ff-4cb0-bf87-29e02fda508c":{"initial":{"chassis":["uuid","ae27c4bd-517b-4208-8541-770d0d08a39a"],"logical_port":"kube-system_coredns-74ff55c5b-tqhqx"}},"2bd7b14a-0fc8-4124-8c6c-3d1ea6ce17ae":{"initial":{"logical_port":"jtor-ovn_cluster_router"}},"4300a619-398a-4eaa-a451-d00f6e21db3a":{"initial":{"chassis":["uuid","daa1b5c9-45e1-469a-887e-923fb075ab3a"],"logical_port":"etor-GR_ovn-control-plane"}},"3d51c1f8-0b1a-4916-b0ad-747730b70777":{"initial":{"chassis":["uuid","b7579f82-e547-4b0d-bddc-5ebf6c25f58a"],"logical_port":"jtor-GR_ovn-worker2"}},"f55a5e45-6452-4a04-bd78-a73013ceb452":{"initial":{"logical_port":"rtos-ovn-worker2"}},"0a112bed-8cf6-48be-9a52-184ad1b72ed8":{"initial":{"chassis":["uuid","ae27c4bd-517b-4208-8541-770d0d08a39a"],"logical_port":"cr-rtos-node_local_switch"}},"ce3beb37-89fa-4425-9206-10561d809408":{"initial":{"chassis":["uuid","ae27c4bd-517b-4208-8541-770d0d08a39a"],"logical_port":"rtoj-GR_ovn-worker"}},"7d600ca2-5f8d-4f27-a626-315c965a2dfd":{"initial":{"logical_port":"rtos-ovn-control-plane"}},"45a718ad-606d-4dfe-bf42-dee106fb9012":{"initial":{"chassis":["uuid","daa1b5c9-45e1-469a-887e-923fb075ab3a"],"logical_port":"k8s-ovn-control-plane"}},"9d095f5d-b714-4f94-af19-9f3fd05d5e38":{"initial":{"chassis":["uuid","ae27c4bd-517b-4208-8541-770d0d08a39a"],"logical_port":"k8s-ovn-worker"}},"883a0985-1091-4fcb-a1a8-46597417fb5f":{"initial":{"chassis":["uuid","b7579f82-e547-4b0d-bddc-5ebf6c25f58a"],"logical_port":"rtoj-GR_ovn-worker2"}},"7be36b40-61e7-478d-a3a7-eaf2a2fb7199":{"initial":{"chassis":["uuid","ae27c4bd-517b-4208-8541-770d0d08a39a"],"logical_port":"jtor-GR_ovn-worker"}},"c2b4ecdd-b555-4d6a-ac19-4946035b631c":{"initial":{"chassis":["uuid","b7579f82-e547-4b0d-bddc-5ebf6c25f58a"],"logical_port":"k8s-ovn-worker2"}},"0e084dd6-1a2f-40de-9794-02f98b675626":{"initial":{"logical_port":"breth0_ovn-control-plane"}},"f391cf6b-8b92-4b80-9ede-a099df3ad8d8":{"initial":{"logical_port":"lnet-node_local_switch"}},"344c3fcc-c00f-4664-acbf-a4ae6e22cbc8":{"initial":{"chassis":["uuid","b7579f82-e547-4b0d-bddc-5ebf6c25f58a"],"logical_port":"local-path-storage_local-path-provisioner-78776bfc44-2t5ms"}},"a5fe7864-3178-4e2d-a5c6-3c6cd214faa3":{"initial":{"chassis":["uuid","daa1b5c9-45e1-469a-887e-923fb075ab3a"],"logical_port":"rtoe-GR_ovn-control-plane"}},"b33ceabb-fd45-4f98-9703-dc9dec745ea2":{"initial":{"chassis":["uuid","b7579f82-e547-4b0d-bddc-5ebf6c25f58a"],"logical_port":"etor-GR_ovn-worker2"}},"c66be339-e2ca-4888-95e7-e22f909a21f1":{"initial":{"logical_port":"stor-ovn-control-plane"}},"a9bb7c09-4000-4053-9a55-16050441ef7b":{"initial":{"chassis":["uuid","ae27c4bd-517b-4208-8541-770d0d08a39a"],"logical_port":"etor-GR_ovn-worker"}},"3cbf06f2-8430-46a4-80ef-377f5dc6d555":{"initial":{"logical_port":"breth0_ovn-worker2"}},"aea3e1d5-559c-4262-8545-7e6495891f75":{"initial":{"chassis":["uuid","ae27c4bd-517b-4208-8541-770d0d08a39a"],"logical_port":"rtoe-GR_ovn-worker"}},"b6d69a6c-415b-4233-b311-8600091447c7":{"initial":{"chassis":["uuid","b7579f82-e547-4b0d-bddc-5ebf6c25f58a"],"logical_port":"kube-system_coredns-74ff55c5b-7sds9"}},"bcd7970a-20b6-46e8-a571-620e0901da18":{"initial":{"logical_port":"stor-node_local_switch"}},"94881c73-83bb-4e0b-9455-05c64a3ce31e":{"initial":{"logical_port":"rtoj-ovn_cluster_router"}},"21935592-c35a-4116-a41a-caa36243dacf":{"initial":{"chassis":["uuid","daa1b5c9-45e1-469a-887e-923fb075ab3a"],"logical_port":"jtor-GR_ovn-control-plane"}},"2e6d62f0-3f97-4ab6-a631-e881da3e942c":{"initial":{"logical_port":"rtos-ovn-worker"}},"a4a0a611-3ce8-4067-8905-41b5142562ef":{"initial":{"chassis":["uuid","daa1b5c9-45e1-469a-887e-923fb075ab3a"],"logical_port":"rtoj-GR_ovn-control-plane"}},"304bec7c-0d0d-49fd-8bc1-60a6a291f3ef":{"initial":{"logical_port":"stor-ovn-worker"}},"8dfb28bd-0491-41a0-b665-6642b2744697":{"initial":{"logical_port":"rtos-node_local_switch"}},"fef32f52-257f-487d-854c-91c757021d42":{"initial":{"logical_port":"breth0_ovn-worker"}},"9d23d22b-4d37-4361-aa15-ed179eeeb98c":{"initial":{"logical_port":"stor-ovn-worker2"}}}}], id=2
		//{"Chassis":{"b7579f82-e547-4b0d-bddc-5ebf6c25f58a":{"initial":{"name":"54ef0a9b-e5ec-4055-a6b3-77ab41142db1","hostname":"ovn-worker2","encaps":["uuid","5c49da08-0360-497d-8a3a-4370bcdc72d1"]}},"daa1b5c9-45e1-469a-887e-923fb075ab3a":{"initial":{"name":"17a64fa1-3958-42c0-94d5-10306978f3f4","hostname":"ovn-control-plane","encaps":["uuid","8c48622d-bb02-49c3-8959-3543dd51050b"]}},"ae27c4bd-517b-4208-8541-770d0d08a39a":{"initial":{"name":"72c6bb01-17b9-4d84-8b65-24474a48e38a","hostname":"ovn-worker","encaps":["uuid","e511279a-889e-44f7-b60c-ab24d5b6276b"]}}},"Encap":{"8c48622d-bb02-49c3-8959-3543dd51050b":{"initial":{"ip":"172.18.0.3","options":["map",[["csum","true"]]],"type":"geneve"}},"e511279a-889e-44f7-b60c-ab24d5b6276b":{"initial":{"ip":"172.18.0.2","options":["map",[["csum","true"]]],"type":"geneve"}},"5c49da08-0360-497d-8a3a-4370bcdc72d1":{"initial":{"ip":"172.18.0.4","options":["map",[["csum","true"]]],"type":"geneve"}}},"SB_Global":{"e007210d-9526-4063-8712-342186c7b39f":{"initial":{}}},"Port_Binding":{"9100e618-738a-403a-8ed6-fa0cc9bad182":{"initial":{"chassis":["uuid","b7579f82-e547-4b0d-bddc-5ebf6c25f58a"],"logical_port":"rtoe-GR_ovn-worker2"}},"c4bd3b7e-04ff-4cb0-bf87-29e02fda508c":{"initial":{"chassis":["uuid","ae27c4bd-517b-4208-8541-770d0d08a39a"],"logical_port":"kube-system_coredns-74ff55c5b-tqhqx"}},"2bd7b14a-0fc8-4124-8c6c-3d1ea6ce17ae":{"initial":{"logical_port":"jtor-ovn_cluster_router"}},"4300a619-398a-4eaa-a451-d00f6e21db3a":{"initial":{"chassis":["uuid","daa1b5c9-45e1-469a-887e-923fb075ab3a"],"logical_port":"etor-GR_ovn-control-plane"}},"3d51c1f8-0b1a-4916-b0ad-747730b70777":{"initial":{"chassis":["uuid","b7579f82-e547-4b0d-bddc-5ebf6c25f58a"],"logical_port":"jtor-GR_ovn-worker2"}},"f55a5e45-6452-4a04-bd78-a73013ceb452":{"initial":{"logical_port":"rtos-ovn-worker2"}},"0a112bed-8cf6-48be-9a52-184ad1b72ed8":{"initial":{"chassis":["uuid","ae27c4bd-517b-4208-8541-770d0d08a39a"],"logical_port":"cr-rtos-node_local_switch"}},"ce3beb37-89fa-4425-9206-10561d809408":{"initial":{"chassis":["uuid","ae27c4bd-517b-4208-8541-770d0d08a39a"],"logical_port":"rtoj-GR_ovn-worker"}},"7d600ca2-5f8d-4f27-a626-315c965a2dfd":{"initial":{"logical_port":"rtos-ovn-control-plane"}},"45a718ad-606d-4dfe-bf42-dee106fb9012":{"initial":{"chassis":["uuid","daa1b5c9-45e1-469a-887e-923fb075ab3a"],"logical_port":"k8s-ovn-control-plane"}},"9d095f5d-b714-4f94-af19-9f3fd05d5e38":{"initial":{"chassis":["uuid","ae27c4bd-517b-4208-8541-770d0d08a39a"],"logical_port":"k8s-ovn-worker"}},"883a0985-1091-4fcb-a1a8-46597417fb5f":{"initial":{"chassis":["uuid","b7579f82-e547-4b0d-bddc-5ebf6c25f58a"],"logical_port":"rtoj-GR_ovn-worker2"}},"7be36b40-61e7-478d-a3a7-eaf2a2fb7199":{"initial":{"chassis":["uuid","ae27c4bd-517b-4208-8541-770d0d08a39a"],"logical_port":"jtor-GR_ovn-worker"}},"c2b4ecdd-b555-4d6a-ac19-4946035b631c":{"initial":{"chassis":["uuid","b7579f82-e547-4b0d-bddc-5ebf6c25f58a"],"logical_port":"k8s-ovn-worker2"}},"0e084dd6-1a2f-40de-9794-02f98b675626":{"initial":{"logical_port":"breth0_ovn-control-plane"}},"f391cf6b-8b92-4b80-9ede-a099df3ad8d8":{"initial":{"logical_port":"lnet-node_local_switch"}},"344c3fcc-c00f-4664-acbf-a4ae6e22cbc8":{"initial":{"chassis":["uuid","b7579f82-e547-4b0d-bddc-5ebf6c25f58a"],"logical_port":"local-path-storage_local-path-provisioner-78776bfc44-2t5ms"}},"a5fe7864-3178-4e2d-a5c6-3c6cd214faa3":{"initial":{"chassis":["uuid","daa1b5c9-45e1-469a-887e-923fb075ab3a"],"logical_port":"rtoe-GR_ovn-control-plane"}},"b33ceabb-fd45-4f98-9703-dc9dec745ea2":{"initial":{"chassis":["uuid","b7579f82-e547-4b0d-bddc-5ebf6c25f58a"],"logical_port":"etor-GR_ovn-worker2"}},"c66be339-e2ca-4888-95e7-e22f909a21f1":{"initial":{"logical_port":"stor-ovn-control-plane"}},"a9bb7c09-4000-4053-9a55-16050441ef7b":{"initial":{"chassis":["uuid","ae27c4bd-517b-4208-8541-770d0d08a39a"],"logical_port":"etor-GR_ovn-worker"}},"3cbf06f2-8430-46a4-80ef-377f5dc6d555":{"initial":{"logical_port":"breth0_ovn-worker2"}},"aea3e1d5-559c-4262-8545-7e6495891f75":{"initial":{"chassis":["uuid","ae27c4bd-517b-4208-8541-770d0d08a39a"],"logical_port":"rtoe-GR_ovn-worker"}},"b6d69a6c-415b-4233-b311-8600091447c7":{"initial":{"chassis":["uuid","b7579f82-e547-4b0d-bddc-5ebf6c25f58a"],"logical_port":"kube-system_coredns-74ff55c5b-7sds9"}},"bcd7970a-20b6-46e8-a571-620e0901da18":{"initial":{"logical_port":"stor-node_local_switch"}},"94881c73-83bb-4e0b-9455-05c64a3ce31e":{"initial":{"logical_port":"rtoj-ovn_cluster_router"}},"21935592-c35a-4116-a41a-caa36243dacf":{"initial":{"chassis":["uuid","daa1b5c9-45e1-469a-887e-923fb075ab3a"],"logical_port":"jtor-GR_ovn-control-plane"}},"2e6d62f0-3f97-4ab6-a631-e881da3e942c":{"initial":{"logical_port":"rtos-ovn-worker"}},"a4a0a611-3ce8-4067-8905-41b5142562ef":{"initial":{"chassis":["uuid","daa1b5c9-45e1-469a-887e-923fb075ab3a"],"logical_port":"rtoj-GR_ovn-control-plane"}},"304bec7c-0d0d-49fd-8bc1-60a6a291f3ef":{"initial":{"logical_port":"stor-ovn-worker"}},"8dfb28bd-0491-41a0-b665-6642b2744697":{"initial":{"logical_port":"rtos-node_local_switch"}},"fef32f52-257f-487d-854c-91c757021d42":{"initial":{"logical_port":"breth0_ovn-worker"}},"9d23d22b-4d37-4361-aa15-ed179eeeb98c":{"initial":{"logical_port":"stor-ovn-worker2"}}}}], id=2
		//types Chassis
		chassis_1_json = `{"name":"54ef0a9b-e5ec-4055-a6b3-77ab41142db1","hostname":"ovn-worker2","encaps":["uuid","5c49da08-0360-497d-8a3a-4370bcdc72d1"]}`
		chassis_1_obj  = OVN_Southbound.Chassis{
			Nb_cfg:                0,
			External_ids:          nil,
			Other_config:          nil,
			Transport_zones:       nil,
			Name:                  "54ef0a9b-e5ec-4055-a6b3-77ab41142db1",
			Hostname:              "ovn-worker2",
			Encaps:                []json.Uuid{"5c49da08-0360-497d-8a3a-4370bcdc72d1"},
			Vtep_logical_switches: nil,
		}

		chassis_2_json = `{"name":"17a64fa1-3958-42c0-94d5-10306978f3f4","hostname":"ovn-control-plane","encaps":["uuid","8c48622d-bb02-49c3-8959-3543dd51050b"]}`
		chassis_2_obj  = OVN_Southbound.Chassis{
			Nb_cfg:                0,
			External_ids:          nil,
			Other_config:          nil,
			Transport_zones:       nil,
			Name:                  "17a64fa1-3958-42c0-94d5-10306978f3f4",
			Hostname:              "ovn-control-plane",
			Encaps:                []json.Uuid{"8c48622d-bb02-49c3-8959-3543dd51050b"},
			Vtep_logical_switches: nil,
		}

		chassis_3_json = `{"name":"72c6bb01-17b9-4d84-8b65-24474a48e38a","hostname":"ovn-worker","encaps":["uuid","e511279a-889e-44f7-b60c-ab24d5b6276b"]}`
		chassis_3_obj  = OVN_Southbound.Chassis{
			Nb_cfg:                0,
			External_ids:          nil,
			Other_config:          nil,
			Transport_zones:       nil,
			Name:                  "72c6bb01-17b9-4d84-8b65-24474a48e38a",
			Hostname:              "ovn-worker",
			Encaps:                []json.Uuid{"e511279a-889e-44f7-b60c-ab24d5b6276b"},
			Vtep_logical_switches: nil,
		}
		//types Encap
		encap_1_json = `{"ip":"172.18.0.3","options":["map",[["csum","true"]]],"type":"geneve"}`
		encap_2_json = `{"ip":"172.18.0.2","options":["map",[["csum","true"]]],"type":"geneve"}`
		encap_3_json = `{"ip":"172.18.0.4","options":["map",[["csum","true"]]],"type":"geneve"}`
		encap_1_obj  = OVN_Southbound.Encap{Options: map[string]string{"csum": "true"}, Ip: "172.18.0.3", Chassis_name: "", Type: "geneve"}
		encap_2_obj  = OVN_Southbound.Encap{Options: map[string]string{"csum": "true"}, Ip: "172.18.0.2", Chassis_name: "", Type: "geneve"}
		encap_3_obj  = OVN_Southbound.Encap{Options: map[string]string{"csum": "true"}, Ip: "172.18.0.4", Chassis_name: "", Type: "geneve"}
		//type SB_Global
		sb_global_1_obj  = OVN_Southbound.SB_Global{}
		sb_global_1_json = `{}`

		//type Port_Binding
		port_binding_1_json = `{"chassis":["uuid","b7579f82-e547-4b0d-bddc-5ebf6c25f58a"],"logical_port":"rtoe-GR_ovn-worker2"}`
		port_binding_1_obj  = OVN_Southbound.Port_Binding{
			Gateway_chassis:  nil,
			Options:          nil,
			Chassis:          "b7579f82-e547-4b0d-bddc-5ebf6c25f58a",
			Encap:            "",
			Nat_addresses:    nil,
			Logical_port:     "rtoe-GR_ovn-worker2",
			Tunnel_key:       0,
			Parent_port:      "",
			Tag:              0,
			Virtual_parent:   "",
			Ha_chassis_group: "",
			Datapath:         "",
			Mac:              nil,
			Type:             "",
			External_ids:     nil,
		}

		//examples from file "db_0_ovn_nbctl-v_show"
		//original log line
		//2021-02-24T09:38:40Z|00017|jsonrpc|DBG|unix:/var/run/ovn/ovnnb_db.sock: received reply, result=[false,"3d99945d-32a2-4207-8d55-aa9e7a32c31a",{"Logical_Router_Static_Route":{"7042a5e0-b0b5-4790-b06f-6f605ec6a783":{"initial":{"ip_prefix":"10.244.2.0/24","nexthop":"10.244.2.2","policy":"src-ip"}},"90f1884c-d6e9-4875-9811-5ee4f701d910":{"initial":{"ip_prefix":"10.244.1.0/24","nexthop":"10.244.1.2","policy":"src-ip"}},"41a1d0fe-725f-4c70-9b1c-4b43054d3dfa":{"initial":{"ip_prefix":"fd98::2","nexthop":"fd98::2"}},"3752fb85-3d17-4ef3-adb3-4486c1eb7017":{"initial":{"ip_prefix":"100.64.0.3","nexthop":"100.64.0.3"}},"d7517e04-976a-44bb-89e0-10e2281f75f4":{"initial":{"ip_prefix":"10.244.0.0/24","nexthop":"10.244.0.2","policy":"src-ip"}},"7e1297c8-9c1b-4fb9-8bd8-1b2207c6bd4b":{"initial":{"ip_prefix":"10.244.0.0/16","nexthop":"100.64.0.1"}},"903f4892-ba47-4979-b954-8a9c6dabfdec":{"initial":{"ip_prefix":"fd98::3","nexthop":"fd98::3"}},"d1b0af9b-1f9c-4940-a8cb-097143b2fa1f":{"initial":{"ip_prefix":"100.64.0.4","nexthop":"100.64.0.4"}},"63a4adb3-ce24-48d9-a085-ef06dea91ec1":{"initial":{"ip_prefix":"fd98::4","nexthop":"fd98::4"}},"dd9d57cb-f7ff-46fc-aeab-e857e9f83c96":{"initial":{"ip_prefix":"10.244.0.0/16","nexthop":"100.64.0.1"}},"9ea3142c-072d-406f-a783-6170579d5e55":{"initial":{"ip_prefix":"0.0.0.0/0","output_port":"rtoe-GR_ovn-worker","nexthop":"172.18.0.1"}},"ca9d1d4f-224b-41d5-b83f-6e2f565a38c5":{"initial":{"ip_prefix":"10.244.0.0/16","nexthop":"100.64.0.1"}},"1b5489c2-7b29-4797-9a4e-7b770c63e0a7":{"initial":{"ip_prefix":"0.0.0.0/0","output_port":"rtoe-GR_ovn-control-plane","nexthop":"172.18.0.1"}},"42c4a560-23f9-48ff-bac8-0327e3547ae7":{"initial":{"ip_prefix":"0.0.0.0/0","output_port":"rtoe-GR_ovn-worker2","nexthop":"172.18.0.1"}},"e5cc24b6-a136-4dc5-876a-a161e626c1a8":{"initial":{"ip_prefix":"100.64.0.2","nexthop":"100.64.0.2"}}},"NB_Global":{"d4818512-eac8-4830-8384-a8ae0ca318e7":{"initial":{"connections":["uuid","ef71058f-3772-40e1-9135-f392da22d457"],"options":["map",[["e2e_timestamp","1614159491"],["mac_prefix","b6:6e:74"],["max_tunid","16711680"],["northd_internal_version","20.12.0-20.15.0-52.0"],["northd_probe_interval","5000"],["svc_monitor_mac","5e:0f:67:97:18:77"]]]}}},"Meter_Band":{"1aa14980-b226-48e0-a3de-2e794d9fd118":{"initial":{"action":"drop","rate":20}}},"Logical_Switch":{"474c2146-c859-4676-b101-c02c846dd4b0":{"initial":{"name":"ext_ovn-worker2","ports":["set",[["uuid","5af692f7-9f8d-4919-ab6f-678f3c9e8e37"],["uuid","735014f2-07dd-43a0-8fc6-042ccb238283"]]]}},"76d6a88c-6ea8-4dcc-b08f-7904fda0a1e2":{"initial":{"name":"ovn-worker2","load_balancer":["set",[["uuid","18e5684f-8d6a-4ab2-b5bf-eaaa387d6e79"],["uuid","302a1124-0c91-4756-bcfd-3165091edfc7"],["uuid","4c4d61e9-8784-4d9b-9ae4-d297beeaaf44"],["uuid","af6d0086-de2d-4c6d-9038-41de82a2990b"],["uuid","c8d6c59f-b029-42fb-8bf2-69d94979075a"],["uuid","fa1ed331-f052-42b6-bf7a-afc4887b03c4"]]],"ports":["set",[["uuid","1390bd32-cbc0-45b4-9b3c-2f61510a5154"],["uuid","7180ae88-8ce8-4209-b000-3a565deb4f42"],["uuid","8ba759ef-ed8e-496b-bf96-144b0512cfa6"],["uuid","a61971dd-67cd-4fef-8c0f-a1a99f416817"]]],"other_config":["map",[["subnet","10.244.2.0/24"]]],"acls":["uuid","6781d6f6-ab9f-4dfa-982a-78fd1479ba31"]}},"6faae4c2-0e3b-4abc-bcb4-6928b7ca028d":{"initial":{"name":"ovn-control-plane","load_balancer":["set",[["uuid","18e5684f-8d6a-4ab2-b5bf-eaaa387d6e79"],["uuid","4846574d-41aa-4bc7-8e46-bd71fc73938f"],["uuid","6a10b670-65f4-406b-b872-9d82229d4b6b"],["uuid","af6d0086-de2d-4c6d-9038-41de82a2990b"],["uuid","c8d6c59f-b029-42fb-8bf2-69d94979075a"],["uuid","d55eda03-51df-4fdb-9626-06955aa5b17a"]]],"ports":["set",[["uuid","7ffc05f0-056b-4b8c-bceb-692f4a1b081b"],["uuid","b299cbf5-eb0c-4111-b9e7-310d07b0afd8"]]],"other_config":["map",[["subnet","10.244.0.0/24"]]],"acls":["uuid","0e175141-1603-45d5-8b13-48fccf610466"]}},"856e63d7-ab4d-4249-b8ce-eed9b051061d":{"initial":{"name":"ext_ovn-worker","ports":["set",[["uuid","40fe1092-2698-4eb8-8f1c-1b2a961ac09a"],["uuid","bf2d8915-9432-4be2-abba-7aa52b2d8a96"]]]}},"974f5c20-2742-44b1-a814-83a753af1fa7":{"initial":{"name":"node_local_switch","ports":["set",[["uuid","b5ada444-5dcd-401f-9830-0218b4636b3f"],["uuid","b7c0ed69-6a90-41fd-9c19-0dec8d2d32f5"]]]}},"5b15a9c5-754f-4a5c-b941-5c067df2e641":{"initial":{"name":"ovn-worker","load_balancer":["set",[["uuid","18e5684f-8d6a-4ab2-b5bf-eaaa387d6e79"],["uuid","391f5a37-feab-4863-a34c-1818c17bee38"],["uuid","4925f4f6-23ac-404a-b083-bf70384da014"],["uuid","4c64486f-74c2-43c5-a782-697cdb1baa7b"],["uuid","af6d0086-de2d-4c6d-9038-41de82a2990b"],["uuid","c8d6c59f-b029-42fb-8bf2-69d94979075a"]]],"ports":["set",[["uuid","4993d0af-e6d8-4992-b57a-3138fa4d6753"],["uuid","667eb4c7-1dae-4d53-a66a-b0d423c8b249"],["uuid","9be33a9d-c489-4105-bd10-449509d15484"]]],"other_config":["map",[["subnet","10.244.1.0/24"]]],"acls":["uuid","80b46943-fc2e-4a49-9b17-2abd308eb477"]}},"bc306d0c-cc03-422c-88e8-16cef57ca0bd":{"initial":{"name":"join","ports":["set",[["uuid","3801f6b3-94a8-4481-a7d3-912dd792306b"],["uuid","552707ff-0f23-4c2c-9ff4-2cdfcc5af4f4"],["uuid","6200d8af-47cd-43cf-badb-a1e7cc5838d4"],["uuid","bedf0b2d-0a11-4b3b-a701-a3f23dc9f5ce"]]]}},"2f7c8ad8-5b5c-4727-aa17-9b5b18523b88":{"initial":{"name":"ext_ovn-control-plane","ports":["set",[["uuid","051a87de-3c84-4569-828f-7c8a07a368de"],["uuid","3655a9b0-d8ca-4ecb-9798-060abfecc387"]]]}}},"ACL":{"80b46943-fc2e-4a49-9b17-2abd308eb477":{"initial":{"action":"allow-related","match":"ip4.src==10.244.1.2","priority":1001,"direction":"to-lport"}},"6781d6f6-ab9f-4dfa-982a-78fd1479ba31":{"initial":{"action":"allow-related","match":"ip4.src==10.244.2.2","priority":1001,"direction":"to-lport"}},"0e175141-1603-45d5-8b13-48fccf610466":{"initial":{"action":"allow-related","match":"ip4.src==10.244.0.2","priority":1001,"direction":"to-lport"}}},"Meter":{"df6912fa-c17e-4d06-a056-6985ba279a30":{"initial":{"name":"acl-logging","unit":"pktps","bands":["uuid","1aa14980-b226-48e0-a3de-2e794d9fd118"]}}},"Address_Set":{"6dd3f2c1-5bcf-4698-bdca-13faf1d11045":{"initial":{"name":"a10956707444534956691","addresses":"10.244.2.3","external_ids":["map",[["name","local-path-storage_v4"]]]}},"24e35e98-3a54-4c51-ba9a-03f383ca5993":{"initial":{"name":"a18363165982804349389","external_ids":["map",[["name","kube-public_v4"]]]}},"e99b1ab0-634f-4735-be01-47594d0bdcb7":{"initial":{"name":"a6937002112706621489","addresses":["set",["10.244.1.3","10.244.2.4"]],"external_ids":["map",[["name","kube-system_v4"]]]}},"65969453-4074-4342-a829-79e727e8b69b":{"initial":{"name":"a5154718082306775057","external_ids":["map",[["name","default_v4"]]]}},"cd0bc9a1-be87-4501-9039-2d63f6450bf4":{"initial":{"name":"a5675285926127865604","external_ids":["map",[["name","ovn-kubernetes_v4"]]]}},"d80b440a-9ea0-499c-a9a3-a92e748ab967":{"initial":{"name":"a16235039932615691331","external_ids":["map",[["name","kube-node-lease_v4"]]]}}},"NAT":{"0a98cabb-b201-4b1d-8889-cdde310e957b":{"initial":{"external_ip":"169.254.9.234","logical_port":"k8s-ovn-worker","external_mac":"7a:53:c4:d0:5e:5d","options":["map",[["stateless","false"]]],"logical_ip":"10.244.1.2","type":"dnat_and_snat"}},"066c75f9-9d26-48f9-aea8-c7b0e6a36d30":{"initial":{"external_ip":"169.254.2.138","logical_port":"k8s-ovn-control-plane","external_mac":"96:20:c0:6d:23:61","options":["map",[["stateless","false"]]],"logical_ip":"10.244.0.2","type":"dnat_and_snat"}},"7d5aaf2e-7a35-4cf0-a046-e1b2d18bc72c":{"initial":{"external_ip":"169.254.12.196","logical_port":"k8s-ovn-worker2","external_mac":"ce:f8:49:3a:37:79","options":["map",[["stateless","false"]]],"logical_ip":"10.244.2.2","type":"dnat_and_snat"}}},"Load_Balancer":{"18e5684f-8d6a-4ab2-b5bf-eaaa387d6e79":{"initial":{"protocol":"tcp","external_ids":["map",[["k8s-cluster-lb-tcp","yes"]]],"vips":["map",[["10.96.0.10:53","10.244.1.3:53,10.244.2.4:53"],["10.96.0.10:9153","10.244.1.3:9153,10.244.2.4:9153"],["10.96.0.1:443","172.18.0.3:6443"]]]}},"d55eda03-51df-4fdb-9626-06955aa5b17a":{"initial":{"protocol":"sctp","external_ids":["map",[["SCTP_lb_gateway_router","GR_ovn-control-plane"]]]}},"302a1124-0c91-4756-bcfd-3165091edfc7":{"initial":{"protocol":"udp","external_ids":["map",[["UDP_lb_gateway_router","GR_ovn-worker2"]]]}},"4925f4f6-23ac-404a-b083-bf70384da014":{"initial":{"protocol":"tcp","external_ids":["map",[["TCP_lb_gateway_router","GR_ovn-worker"]]]}},"c8d6c59f-b029-42fb-8bf2-69d94979075a":{"initial":{"protocol":"udp","external_ids":["map",[["k8s-cluster-lb-udp","yes"]]],"vips":["map",[["10.96.0.10:53","10.244.1.3:53,10.244.2.4:53"]]]}},"4c64486f-74c2-43c5-a782-697cdb1baa7b":{"initial":{"protocol":"sctp","external_ids":["map",[["SCTP_lb_gateway_router","GR_ovn-worker"]]]}},"4846574d-41aa-4bc7-8e46-bd71fc73938f":{"initial":{"protocol":"tcp","external_ids":["map",[["TCP_lb_gateway_router","GR_ovn-control-plane"]]]}},"af6d0086-de2d-4c6d-9038-41de82a2990b":{"initial":{"protocol":"sctp","external_ids":["map",[["k8s-cluster-lb-sctp","yes"]]]}},"6a10b670-65f4-406b-b872-9d82229d4b6b":{"initial":{"protocol":"udp","external_ids":["map",[["UDP_lb_gateway_router","GR_ovn-control-plane"]]]}},"391f5a37-feab-4863-a34c-1818c17bee38":{"initial":{"protocol":"udp","external_ids":["map",[["UDP_lb_gateway_router","GR_ovn-worker"]]]}},"fa1ed331-f052-42b6-bf7a-afc4887b03c4":{"initial":{"protocol":"sctp","external_ids":["map",[["SCTP_lb_gateway_router","GR_ovn-worker2"]]]}},"4c4d61e9-8784-4d9b-9ae4-d297beeaaf44":{"initial":{"protocol":"tcp","external_ids":["map",[["TCP_lb_gateway_router","GR_ovn-worker2"]]]}}},"Connection":{"ef71058f-3772-40e1-9135-f392da22d457":{"initial":{"target":"ptcp:6641","inactivity_probe":0}}},"Gateway_Chassis":{"9995d0a0-fdd2-4e7d-ab31-be82ecb0f5fe":{"initial":{"name":"rtos-node_local_switch_72c6bb01-17b9-4d84-8b65-24474a48e38a","priority":100,"external_ids":["map",[["dgp_name","rtos-node_local_switch"]]],"chassis_name":"72c6bb01-17b9-4d84-8b65-24474a48e38a"}}},"Logical_Router_Port":{"9e387b4c-89b0-4a64-8869-23815ca734ec":{"initial":{"name":"rtos-ovn-worker","mac":"0a:58:0a:f4:01:01","networks":"10.244.1.1/24"}},"8f14cc71-e451-48f0-a87c-1b6a0a2706f4":{"initial":{"name":"rtoe-GR_ovn-control-plane","mac":"02:42:ac:12:00:03","external_ids":["map",[["gateway-physical-ip","yes"]]],"networks":"172.18.0.3/16"}},"494a7035-7a8d-440b-8004-64d337742004":{"initial":{"name":"rtoj-GR_ovn-control-plane","mac":"0a:58:64:40:00:02","networks":["set",["100.64.0.2/16","fd98::2/64"]]}},"f49f3cce-7fb5-492b-903a-3ae86cd195ca":{"initial":{"name":"rtos-node_local_switch","mac":"0a:58:a9:fe:00:02","gateway_chassis":["uuid","9995d0a0-fdd2-4e7d-ab31-be82ecb0f5fe"],"networks":"169.254.0.2/20"}},"5375c1b4-6d3f-4028-801b-645a77b8fc19":{"initial":{"name":"rtos-ovn-control-plane","mac":"0a:58:0a:f4:00:01","networks":"10.244.0.1/24"}},"e936dc43-2e8f-481c-998e-52c34dee5e02":{"initial":{"name":"rtoj-ovn_cluster_router","mac":"0a:58:64:40:00:01","networks":["set",["100.64.0.1/16","fd98::1/64"]]}},"2b8e4f58-7fdb-4924-932e-78f3f849cb60":{"initial":{"name":"rtoe-GR_ovn-worker","mac":"02:42:ac:12:00:02","external_ids":["map",[["gateway-physical-ip","yes"]]],"networks":"172.18.0.2/16"}},"d1fb6b47-376e-4749-9a63-d9d42829f16e":{"initial":{"name":"rtos-ovn-worker2","mac":"0a:58:0a:f4:02:01","networks":"10.244.2.1/24"}},"dc42b3d0-90af-449b-aff2-eeef1a439f10":{"initial":{"name":"rtoj-GR_ovn-worker2","mac":"0a:58:64:40:00:04","networks":["set",["100.64.0.4/16","fd98::4/64"]]}},"90a3c675-0eef-4111-82e6-618cf4effdb1":{"initial":{"name":"rtoe-GR_ovn-worker2","mac":"02:42:ac:12:00:04","external_ids":["map",[["gateway-physical-ip","yes"]]],"networks":"172.18.0.4/16"}},"b41fb9bd-7b98-449e-9c92-af5a8a6ceab2":{"initial":{"name":"rtoj-GR_ovn-worker","mac":"0a:58:64:40:00:03","networks":["set",["100.64.0.3/16","fd98::3/64"]]}}},"Logical_Router_Policy":{"40f100d8-70a1-46ee-884b-3b9a97f07905":{"initial":{"action":"reroute","match":"ip4.src == 10.244.0.2  && ip4.dst != 10.244.0.0/16 /* inter-ovn-control-plane */","priority":1003,"nexthops":"169.254.0.1"}},"c2b48fc2-94ba-451f-9383-8db8c020924b":{"initial":{"action":"allow","match":"ip4.src == 10.244.0.0/16 && ip4.dst == 172.18.0.3/32","priority":101}},"8d46583d-6401-488a-99d3-4e198fa9aae2":{"initial":{"action":"reroute","match":"inport == \"rtos-ovn-control-plane\" && ip4.dst == 172.18.0.3 /* ovn-control-plane */","priority":1004,"nexthops":"10.244.0.2"}},"9390669c-1528-4b47-98da-ab38e4683dca":{"initial":{"action":"reroute","match":"ip4.src == 10.244.2.2  && ip4.dst != 10.244.0.0/16 /* inter-ovn-worker2 */","priority":1003,"nexthops":"169.254.0.1"}},"8653386a-44f3-4aac-9edb-4bda6e4d8307":{"initial":{"action":"reroute","match":"ip4.src == 10.244.1.2  && ip4.dst != 10.244.0.0/16 /* inter-ovn-worker */","priority":1003,"nexthops":"169.254.0.1"}},"d2216bff-9b1d-462e-915f-519607bbe944":{"initial":{"action":"allow","match":"ip4.src == 10.244.0.0/16 && ip4.dst == 172.18.0.2/32","priority":101}},"40074684-c635-483b-bb4d-12562a38b036":{"initial":{"action":"allow","match":"ip4.src == 10.244.0.0/16 && ip4.dst == 172.18.0.4/32","priority":101}},"83aa81a5-9599-4b5d-878f-1df680ad072a":{"initial":{"action":"allow","match":"ip4.src == 10.244.0.0/16 && ip4.dst == 10.244.0.0/16","priority":101}},"4d79fb6b-759d-43fb-89d2-2b86bc1a8299":{"initial":{"action":"reroute","match":"ip4.src == 10.244.0.2 && ip4.dst == 172.18.0.3 /* ovn-control-plane */","priority":1005,"nexthops":"169.254.0.1"}},"cf84c473-0caa-42bd-8912-e6a2a78e2f50":{"initial":{"action":"reroute","match":"inport == \"rtos-ovn-worker2\" && ip4.dst == 172.18.0.4 /* ovn-worker2 */","priority":1004,"nexthops":"10.244.2.2"}},"ea956ba1-4043-43cf-9da8-dcd8c63cf916":{"initial":{"action":"reroute","match":"inport == \"rtos-ovn-worker\" && ip4.dst == 172.18.0.2 /* ovn-worker */","priority":1004,"nexthops":"10.244.1.2"}},"9964841c-f295-4f4f-9754-e693e376490f":{"initial":{"action":"reroute","match":"ip4.src == 10.244.1.2 && ip4.dst == 172.18.0.2 /* ovn-worker */","priority":1005,"nexthops":"169.254.0.1"}},"d4511a1c-7fe4-4f40-a28b-ad772be2f65d":{"initial":{"action":"reroute","match":"ip4.src == 10.244.2.2 && ip4.dst == 172.18.0.4 /* ovn-worker2 */","priority":1005,"nexthops":"169.254.0.1"}}},"Port_Group":{"239fe262-5adc-484f-8661-19fd0ffd7581":{"initial":{"name":"clusterRtrPortGroup","ports":["set",[["uuid","4993d0af-e6d8-4992-b57a-3138fa4d6753"],["uuid","7ffc05f0-056b-4b8c-bceb-692f4a1b081b"],["uuid","a61971dd-67cd-4fef-8c0f-a1a99f416817"]]],"external_ids":["map",[["name","clusterRtrPortGroup"]]]}},"c25ed58a-4f62-4908-b127-65f95a8c4c37":{"initial":{"name":"clusterPortGroup","ports":["set",[["uuid","8ba759ef-ed8e-496b-bf96-144b0512cfa6"],["uuid","9be33a9d-c489-4105-bd10-449509d15484"],["uuid","b299cbf5-eb0c-4111-b9e7-310d07b0afd8"]]],"external_ids":["map",[["name","clusterPortGroup"]]]}}},"Logical_Router":{"22aa0b33-f4f5-45c9-85a9-cbc49decd8f5":{"initial":{"name":"GR_ovn-worker2","static_routes":["set",[["uuid","42c4a560-23f9-48ff-bac8-0327e3547ae7"],["uuid","ca9d1d4f-224b-41d5-b83f-6e2f565a38c5"]]],"ports":["set",[["uuid","90a3c675-0eef-4111-82e6-618cf4effdb1"],["uuid","dc42b3d0-90af-449b-aff2-eeef1a439f10"]]],"external_ids":["map",[["physical_ip","172.18.0.4"],["physical_ips","172.18.0.4"]]],"options":["map",[["always_learn_from_arp_request","false"],["chassis","54ef0a9b-e5ec-4055-a6b3-77ab41142db1"],["dynamic_neigh_routers","true"]]]}},"876bd4ec-3715-49dc-a276-20fe4a3c8305":{"initial":{"name":"GR_ovn-control-plane","static_routes":["set",[["uuid","1b5489c2-7b29-4797-9a4e-7b770c63e0a7"],["uuid","7e1297c8-9c1b-4fb9-8bd8-1b2207c6bd4b"]]],"ports":["set",[["uuid","494a7035-7a8d-440b-8004-64d337742004"],["uuid","8f14cc71-e451-48f0-a87c-1b6a0a2706f4"]]],"external_ids":["map",[["physical_ip","172.18.0.3"],["physical_ips","172.18.0.3"]]],"options":["map",[["always_learn_from_arp_request","false"],["chassis","17a64fa1-3958-42c0-94d5-10306978f3f4"],["dynamic_neigh_routers","true"]]]}},"96d7806a-560e-4d4d-a105-362753f57a88":{"initial":{"name":"GR_ovn-worker","static_routes":["set",[["uuid","9ea3142c-072d-406f-a783-6170579d5e55"],["uuid","dd9d57cb-f7ff-46fc-aeab-e857e9f83c96"]]],"ports":["set",[["uuid","2b8e4f58-7fdb-4924-932e-78f3f849cb60"],["uuid","b41fb9bd-7b98-449e-9c92-af5a8a6ceab2"]]],"external_ids":["map",[["physical_ip","172.18.0.2"],["physical_ips","172.18.0.2"]]],"options":["map",[["always_learn_from_arp_request","false"],["chassis","72c6bb01-17b9-4d84-8b65-24474a48e38a"],["dynamic_neigh_routers","true"]]]}},"93ca3f7e-a560-49dc-9023-089018025eaf":{"initial":{"name":"ovn_cluster_router","static_routes":["set",[["uuid","3752fb85-3d17-4ef3-adb3-4486c1eb7017"],["uuid","41a1d0fe-725f-4c70-9b1c-4b43054d3dfa"],["uuid","63a4adb3-ce24-48d9-a085-ef06dea91ec1"],["uuid","7042a5e0-b0b5-4790-b06f-6f605ec6a783"],["uuid","903f4892-ba47-4979-b954-8a9c6dabfdec"],["uuid","90f1884c-d6e9-4875-9811-5ee4f701d910"],["uuid","d1b0af9b-1f9c-4940-a8cb-097143b2fa1f"],["uuid","d7517e04-976a-44bb-89e0-10e2281f75f4"],["uuid","e5cc24b6-a136-4dc5-876a-a161e626c1a8"]]],"ports":["set",[["uuid","5375c1b4-6d3f-4028-801b-645a77b8fc19"],["uuid","9e387b4c-89b0-4a64-8869-23815ca734ec"],["uuid","d1fb6b47-376e-4749-9a63-d9d42829f16e"],["uuid","e936dc43-2e8f-481c-998e-52c34dee5e02"],["uuid","f49f3cce-7fb5-492b-903a-3ae86cd195ca"]]],"policies":["set",[["uuid","40074684-c635-483b-bb4d-12562a38b036"],["uuid","40f100d8-70a1-46ee-884b-3b9a97f07905"],["uuid","4d79fb6b-759d-43fb-89d2-2b86bc1a8299"],["uuid","83aa81a5-9599-4b5d-878f-1df680ad072a"],["uuid","8653386a-44f3-4aac-9edb-4bda6e4d8307"],["uuid","8d46583d-6401-488a-99d3-4e198fa9aae2"],["uuid","9390669c-1528-4b47-98da-ab38e4683dca"],["uuid","9964841c-f295-4f4f-9754-e693e376490f"],["uuid","c2b48fc2-94ba-451f-9383-8db8c020924b"],["uuid","cf84c473-0caa-42bd-8912-e6a2a78e2f50"],["uuid","d2216bff-9b1d-462e-915f-519607bbe944"],["uuid","d4511a1c-7fe4-4f40-a28b-ad772be2f65d"],["uuid","ea956ba1-4043-43cf-9da8-dcd8c63cf916"]]],"external_ids":["map",[["k8s-cluster-router","yes"],["k8s-ovn-topo-version","2"]]],"nat":["set",[["uuid","066c75f9-9d26-48f9-aea8-c7b0e6a36d30"],["uuid","0a98cabb-b201-4b1d-8889-cdde310e957b"],["uuid","7d5aaf2e-7a35-4cf0-a046-e1b2d18bc72c"]]]}}},"Logical_Switch_Port":{"6200d8af-47cd-43cf-badb-a1e7cc5838d4":{"initial":{"up":true,"name":"jtor-ovn_cluster_router","addresses":"router","options":["map",[["router-port","rtoj-ovn_cluster_router"]]],"type":"router"}},"7ffc05f0-056b-4b8c-bceb-692f4a1b081b":{"initial":{"up":true,"name":"stor-ovn-control-plane","addresses":"0a:58:0a:f4:00:01","options":["map",[["router-port","rtos-ovn-control-plane"]]],"type":"router"}},"9be33a9d-c489-4105-bd10-449509d15484":{"initial":{"up":true,"name":"k8s-ovn-worker","addresses":"7a:53:c4:d0:5e:5d 10.244.1.2"}},"b7c0ed69-6a90-41fd-9c19-0dec8d2d32f5":{"initial":{"up":false,"name":"lnet-node_local_switch","addresses":"unknown","options":["map",[["network_name","locnet"]]],"type":"localnet"}},"3801f6b3-94a8-4481-a7d3-912dd792306b":{"initial":{"up":true,"name":"jtor-GR_ovn-control-plane","addresses":"router","options":["map",[["router-port","rtoj-GR_ovn-control-plane"]]],"type":"router"}},"7180ae88-8ce8-4209-b000-3a565deb4f42":{"initial":{"up":true,"name":"kube-system_coredns-74ff55c5b-7sds9","addresses":"0a:58:0a:f4:02:04 10.244.2.4","port_security":"0a:58:0a:f4:02:04 10.244.2.4","external_ids":["map",[["namespace","kube-system"],["pod","true"]]]}},"3655a9b0-d8ca-4ecb-9798-060abfecc387":{"initial":{"up":false,"name":"breth0_ovn-control-plane","addresses":"unknown","tag_request":0,"options":["map",[["network_name","physnet"]]],"type":"localnet"}},"40fe1092-2698-4eb8-8f1c-1b2a961ac09a":{"initial":{"up":false,"name":"breth0_ovn-worker","addresses":"unknown","tag_request":0,"options":["map",[["network_name","physnet"]]],"type":"localnet"}},"a61971dd-67cd-4fef-8c0f-a1a99f416817":{"initial":{"up":true,"name":"stor-ovn-worker2","addresses":"0a:58:0a:f4:02:01","options":["map",[["router-port","rtos-ovn-worker2"]]],"type":"router"}},"051a87de-3c84-4569-828f-7c8a07a368de":{"initial":{"up":true,"name":"etor-GR_ovn-control-plane","addresses":"02:42:ac:12:00:03","options":["map",[["router-port","rtoe-GR_ovn-control-plane"]]],"type":"router"}},"bf2d8915-9432-4be2-abba-7aa52b2d8a96":{"initial":{"up":true,"name":"etor-GR_ovn-worker","addresses":"02:42:ac:12:00:02","options":["map",[["router-port","rtoe-GR_ovn-worker"]]],"type":"router"}},"4993d0af-e6d8-4992-b57a-3138fa4d6753":{"initial":{"up":true,"name":"stor-ovn-worker","addresses":"0a:58:0a:f4:01:01","options":["map",[["router-port","rtos-ovn-worker"]]],"type":"router"}},"1390bd32-cbc0-45b4-9b3c-2f61510a5154":{"initial":{"up":true,"name":"local-path-storage_local-path-provisioner-78776bfc44-2t5ms","addresses":"0a:58:0a:f4:02:03 10.244.2.3","port_security":"0a:58:0a:f4:02:03 10.244.2.3","external_ids":["map",[["namespace","local-path-storage"],["pod","true"]]]}},"552707ff-0f23-4c2c-9ff4-2cdfcc5af4f4":{"initial":{"up":true,"name":"jtor-GR_ovn-worker","addresses":"router","options":["map",[["router-port","rtoj-GR_ovn-worker"]]],"type":"router"}},"735014f2-07dd-43a0-8fc6-042ccb238283":{"initial":{"up":true,"name":"etor-GR_ovn-worker2","addresses":"02:42:ac:12:00:04","options":["map",[["router-port","rtoe-GR_ovn-worker2"]]],"type":"router"}},"8ba759ef-ed8e-496b-bf96-144b0512cfa6":{"initial":{"up":true,"name":"k8s-ovn-worker2","addresses":"ce:f8:49:3a:37:79 10.244.2.2"}},"5af692f7-9f8d-4919-ab6f-678f3c9e8e37":{"initial":{"up":false,"name":"breth0_ovn-worker2","addresses":"unknown","tag_request":0,"options":["map",[["network_name","physnet"]]],"type":"localnet"}},"bedf0b2d-0a11-4b3b-a701-a3f23dc9f5ce":{"initial":{"up":true,"name":"jtor-GR_ovn-worker2","addresses":"router","options":["map",[["router-port","rtoj-GR_ovn-worker2"]]],"type":"router"}},"667eb4c7-1dae-4d53-a66a-b0d423c8b249":{"initial":{"up":true,"name":"kube-system_coredns-74ff55c5b-tqhqx","addresses":"0a:58:0a:f4:01:03 10.244.1.3","port_security":"0a:58:0a:f4:01:03 10.244.1.3","external_ids":["map",[["namespace","kube-system"],["pod","true"]]]}},"b5ada444-5dcd-401f-9830-0218b4636b3f":{"initial":{"up":true,"name":"stor-node_local_switch","addresses":"router","options":["map",[["nat-addresses","router"],["router-port","rtos-node_local_switch"]]],"type":"router"}},"b299cbf5-eb0c-4111-b9e7-310d07b0afd8":{"initial":{"up":true,"name":"k8s-ovn-control-plane","addresses":"96:20:c0:6d:23:61 10.244.0.2"}}}}], id=2
		//type logical_switch_port
		logical_switch_port_1_json = `{"up":true,"name":"kube-system_coredns-74ff55c5b-7sds9","addresses":"0a:58:0a:f4:02:04 10.244.2.4","port_security":"0a:58:0a:f4:02:04 10.244.2.4","external_ids":["map",[["namespace","kube-system"],["pod","true"]]]}`
		logical_switch_port_1_obj  = OVN_Northbound.Logical_Switch_Port{
			Parent_name:       "",
			Tag_request:       0,
			Addresses:         []string{"0a:58:0a:f4:02:04 10.244.2.4"},
			Dynamic_addresses: "",
			Enabled:           false,
			Dhcpv4_options:    "",
			Ha_chassis_group:  "",
			Name:              "kube-system_coredns-74ff55c5b-7sds9",
			Tag:               0,
			External_ids:      map[string]string{"namespace": "kube-system", "pod": "true"},
			Type:              "",
			Options:           nil,
			Port_security:     []string{"0a:58:0a:f4:02:04 10.244.2.4"},
			Up:                true,
			Dhcpv6_options:    "",
		}

		logical_switch_port_2_json = `{"up":false,"name":"breth0_ovn-control-plane","addresses":"unknown","tag_request":0,"options":["map",[["network_name","physnet"]]],"type":"localnet"}`
		logical_switch_port_2_obj  = OVN_Northbound.Logical_Switch_Port{
			Parent_name:       "",
			Tag_request:       0,
			Addresses:         json.Set{"unknown"},
			Dynamic_addresses: "",
			Enabled:           false,
			Dhcpv4_options:    "",
			Ha_chassis_group:  "",
			Name:              "breth0_ovn-control-plane",
			Tag:               0,
			External_ids:      nil,
			Type:              "localnet",
			Options:           map[string]string{"network_name": "physnet"},
			Port_security:     nil,
			Up:                false,
			Dhcpv6_options:    "",
		}

		//type NB global
		nb_global_1_json = `{"connections":["uuid","ef71058f-3772-40e1-9135-f392da22d457"],"options":["map",[["e2e_timestamp","1614159491"],["mac_prefix","b6:6e:74"],["max_tunid","16711680"],["northd_internal_version","20.12.0-20.15.0-52.0"],["northd_probe_interval","5000"],["svc_monitor_mac","5e:0f:67:97:18:77"]]]}`
		nb_global_1_obj  = OVN_Northbound.NB_Global{
			Sb_cfg:           0,
			Sb_cfg_timestamp: 0,
			Hv_cfg_timestamp: 0,
			External_ids:     nil,
			Options:          map[string]string{"e2e_timestamp": "1614159491", "mac_prefix": "b6:6e:74", "max_tunid": "16711680", "northd_internal_version": "20.12.0-20.15.0-52.0", "northd_probe_interval": "5000", "svc_monitor_mac": "5e:0f:67:97:18:77"},
			Ssl:              "",
			Ipsec:            false,
			Name:             "",
			Nb_cfg:           0,
			Nb_cfg_timestamp: 0,
			Hv_cfg:           0,
			Connections:      []json.Uuid{"ef71058f-3772-40e1-9135-f392da22d457"},
		}

		//type Logical_Router_Policy
		logical_router_policy_1_json = `{"action":"reroute","match":"ip4.src == 10.244.0.2  && ip4.dst != 10.244.0.0/16 /* inter-ovn-control-plane */","priority":1003,"nexthops":"169.254.0.1"}`
		logical_router_policy_1_obj  = OVN_Northbound.Logical_Router_Policy{
			Priority:     1003,
			Match:        "ip4.src == 10.244.0.2  && ip4.dst != 10.244.0.0/16 /* inter-ovn-control-plane */",
			Action:       "reroute",
			Nexthop:      "",
			Nexthops:     json.Set{"169.254.0.1"},
			Options:      nil,
			External_ids: nil,
		}
	)
	initializeStruct := func(t reflect.Type, v reflect.Value, expected reflect.Value) {
		for i := 0; i < v.NumField(); i++ {
			f := v.Field(i)
			ft := t.Field(i)
			e := expected.Field(i)
			switch ft.Type.Kind() {
			case reflect.Map:
				if !e.IsNil() {
					f.Set(reflect.MakeMap(ft.Type))
				}
			case reflect.Slice:
				if !e.IsNil() {
					f.Set(reflect.MakeSlice(ft.Type, 0, 0))
				}
			default:
			}
		}
	}
	DescribeTable("the unmarshall operation",
		func(input string, expected interface{}) {
			p := reflect.New(reflect.TypeOf(expected))
			initializeStruct(reflect.TypeOf(expected), p.Elem(), reflect.ValueOf(expected))
			p_addr := p.Elem().Addr().Interface()
			err := json.UnmarshalJSON([]byte(input), p_addr)
			if err != nil {
				Fail(err.Error())
			}
			got := p.Elem().Interface()
			if !reflect.DeepEqual(got, expected) {
				Fail("not equal")
			}
		},
		//_server types
		Entry("check database 1", database_1_json, database_1_obj),
		Entry("check database 2", database_2_json, database_2_obj),
		//southbound types
		Entry("check chasis 1", chassis_1_json, chassis_1_obj),
		Entry("check chasis 2", chassis_2_json, chassis_2_obj),
		Entry("check chasis 3", chassis_3_json, chassis_3_obj),
		Entry("check encap 1", encap_1_json, encap_1_obj),
		Entry("check encap 2", encap_2_json, encap_2_obj),
		Entry("check encap 3", encap_3_json, encap_3_obj),
		Entry("check sbglobal 1", sb_global_1_json, sb_global_1_obj),
		Entry("check portBinding 1", port_binding_1_json, port_binding_1_obj),
		//northbound types
		Entry("check logical switch port 1", logical_switch_port_1_json, logical_switch_port_1_obj),
		Entry("check logical switch port 2", logical_switch_port_2_json, logical_switch_port_2_obj),
		Entry("check nb global 1", nb_global_1_json, nb_global_1_obj),
		Entry("check logical router policy 1", logical_router_policy_1_json, logical_router_policy_1_obj),
	)
})
